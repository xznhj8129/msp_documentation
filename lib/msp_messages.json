{
    "MSP_API_VERSION": {
        "code": 1,
        "hex": "0x1",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 3,
            "struct": "<BBB",
            "payload": [
                {
                    "name": "mspProtocolVersion",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "MSP Protocol version (`MSP_PROTOCOL_VERSION`, typically 0)."
                },
                {
                    "name": "apiVersionMajor",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "INAV API Major version (`API_VERSION_MAJOR`)."
                },
                {
                    "name": "apiVersionMinor",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "INAV API Minor version (`API_VERSION_MINOR`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Used by configurators to check compatibility.",
        "description": "Provides the MSP protocol version and the INAV API version."
    },
    "MSP_FC_VARIANT": {
        "code": 2,
        "hex": "0x2",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<cccc",
            "payload": [
                {
                    "name": "fcVariantIdentifier",
                    "ctype": "char[4]",
                    "units": "",
                    "desc": "4-character identifier string (e.g., \"INAV\"). Defined by `flightControllerIdentifier`.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 4
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "See `FLIGHT_CONTROLLER_IDENTIFIER_LENGTH`.",
        "description": "Identifies the flight controller firmware variant (e.g., INAV, Betaflight)."
    },
    "MSP_FC_VERSION": {
        "code": 3,
        "hex": "0x3",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 3,
            "struct": "<BBB",
            "payload": [
                {
                    "name": "fcVersionMajor",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Firmware Major version (`FC_VERSION_MAJOR`)."
                },
                {
                    "name": "fcVersionMinor",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Firmware Minor version (`FC_VERSION_MINOR`)."
                },
                {
                    "name": "fcVersionPatch",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Firmware Patch level (`FC_VERSION_PATCH_LEVEL`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Provides the specific version number of the flight controller firmware."
    },
    "MSP_BOARD_INFO": {
        "code": 4,
        "hex": "0x4",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 10,
            "struct": "<ccccHBBBs",
            "payload": [
                {
                    "name": "boardIdentifier",
                    "ctype": "char[4]",
                    "units": "",
                    "desc": "4-character UPPER CASE board identifier (`TARGET_BOARD_IDENTIFIER`).",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 4
                },
                {
                    "name": "hardwareRevision",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Hardware revision number. 0 if not detected (`USE_HARDWARE_REVISION_DETECTION`)."
                },
                {
                    "name": "osdSupport",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "OSD chip type: 0=None, 2=Onboard (`USE_OSD`). INAV does not support slave OSD (1)."
                },
                {
                    "name": "commCapabilities",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Communication capabilities bitmask: Bit 0=VCP support (`USE_VCP`), Bit 1=SoftSerial support (`USE_SOFTSERIAL1`/`2`)."
                },
                {
                    "name": "targetNameLength",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Length of the target name string that follows."
                },
                {
                    "name": "targetName",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "Target name string (e.g., \"MATEKF405\"). Length given by previous field.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "`BOARD_IDENTIFIER_LENGTH` is 4.",
        "description": "Provides information about the specific hardware board and its capabilities."
    },
    "MSP_BUILD_INFO": {
        "code": 5,
        "hex": "0x5",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 26,
            "struct": "<cccccccccccccccccccccccccc",
            "payload": [
                {
                    "name": "buildDate",
                    "ctype": "char[11]",
                    "units": "",
                    "desc": "Build date string (e.g., \"Dec 31 2023\"). `BUILD_DATE_LENGTH`.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 11
                },
                {
                    "name": "buildTime",
                    "ctype": "char[8]",
                    "units": "",
                    "desc": "Build time string (e.g., \"23:59:59\"). `BUILD_TIME_LENGTH`.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 8
                },
                {
                    "name": "gitRevision",
                    "ctype": "char[7]",
                    "units": "",
                    "desc": "Short Git revision string. `GIT_SHORT_REVISION_LENGTH`.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 7
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Provides build date, time, and Git revision of the firmware."
    },
    "MSP_INAV_PID": {
        "code": 6,
        "hex": "0x6",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 15,
            "struct": "<BHHBBHBBBBBB",
            "payload": [
                {
                    "name": "legacyAsyncProcessing",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Legacy, unused. Always 0."
                },
                {
                    "name": "legacyAsyncValue1",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Legacy, unused. Always 0."
                },
                {
                    "name": "legacyAsyncValue2",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Legacy, unused. Always 0."
                },
                {
                    "name": "headingHoldRateLimit",
                    "ctype": "uint8_t",
                    "units": "deg/s",
                    "desc": "Max rate for heading hold P term (`pidProfile()->heading_hold_rate_limit`)."
                },
                {
                    "name": "headingHoldLpfFreq",
                    "ctype": "uint8_t",
                    "units": "Hz",
                    "desc": "Fixed LPF frequency for heading hold error (`HEADING_HOLD_ERROR_LPF_FREQ`)."
                },
                {
                    "name": "legacyYawJumpLimit",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Legacy, unused. Always 0."
                },
                {
                    "name": "legacyGyroLpf",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Fixed value `GYRO_LPF_256HZ`.",
                    "enum": "?_e"
                },
                {
                    "name": "accLpfHz",
                    "ctype": "uint8_t",
                    "units": "Hz",
                    "desc": "Accelerometer LPF frequency (`accelerometerConfig()->acc_lpf_hz`)."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Reserved. Always 0."
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Reserved. Always 0."
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Reserved. Always 0."
                },
                {
                    "name": "reserved4",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Reserved. Always 0."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP2_PID` for core PIDs and other specific messages for filter settings.",
        "description": "Retrieves legacy INAV-specific PID controller related settings. Many fields are now obsolete or placeholders."
    },
    "MSP_SET_INAV_PID": {
        "code": 7,
        "hex": "0x7",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BHHBBHBBBBBB",
            "payload": [
                {
                    "name": "legacyAsyncProcessing",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Legacy, ignored."
                },
                {
                    "name": "legacyAsyncValue1",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Legacy, ignored."
                },
                {
                    "name": "legacyAsyncValue2",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Legacy, ignored."
                },
                {
                    "name": "headingHoldRateLimit",
                    "ctype": "uint8_t",
                    "units": "deg/s",
                    "desc": "Sets `pidProfileMutable()->heading_hold_rate_limit`."
                },
                {
                    "name": "headingHoldLpfFreq",
                    "ctype": "uint8_t",
                    "units": "Hz",
                    "desc": "Ignored (fixed value `HEADING_HOLD_ERROR_LPF_FREQ` used)."
                },
                {
                    "name": "legacyYawJumpLimit",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Legacy, ignored."
                },
                {
                    "name": "legacyGyroLpf",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Ignored (was gyro LPF).",
                    "enum": "?_e"
                },
                {
                    "name": "accLpfHz",
                    "ctype": "uint8_t",
                    "units": "Hz",
                    "desc": "Sets `accelerometerConfigMutable()->acc_lpf_hz`."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved4",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 15 bytes.",
        "description": "Sets legacy INAV-specific PID controller related settings."
    },
    "MSP_NAME": {
        "code": 10,
        "hex": "0xa",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "craftName",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "The craft name string (`systemConfig()->craftName`). Null termination is *not* explicitly sent, the length is determined by the payload size.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Returns the user-defined craft name."
    },
    "MSP_SET_NAME": {
        "code": 11,
        "hex": "0xb",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "craftName",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "The new craft name string. Automatically null-terminated by the FC.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Maximum length is `MAX_NAME_LENGTH`.",
        "description": "Sets the user-defined craft name."
    },
    "MSP_NAV_POSHOLD": {
        "code": 12,
        "hex": "0xc",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 13,
            "struct": "<BHHHHBBH",
            "payload": [
                {
                    "name": "userControlMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Navigation user control mode (`navConfig()->general.flags.user_control_mode`).",
                    "enum": "?_e"
                },
                {
                    "name": "maxAutoSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Max speed in autonomous modes (`navConfig()->general.max_auto_speed`)."
                },
                {
                    "name": "maxAutoClimbRate",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Max climb rate in autonomous modes (uses `fw.max_auto_climb_rate` or `mc.max_auto_climb_rate` based on platform)."
                },
                {
                    "name": "maxManualSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Max speed in manual modes with GPS aiding (`navConfig()->general.max_manual_speed`)."
                },
                {
                    "name": "maxManualClimbRate",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Max climb rate in manual modes with GPS aiding (uses `fw.max_manual_climb_rate` or `mc.max_manual_climb_rate`)."
                },
                {
                    "name": "mcMaxBankAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Max bank angle for multirotor position hold (`navConfig()->mc.max_bank_angle`)."
                },
                {
                    "name": "mcAltHoldThrottleType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Altitude Hold throttle control type (`navConfig()->mc.althold_throttle_type`).",
                    "enum": "?_e"
                },
                {
                    "name": "mcHoverThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Multirotor hover throttle (`currentBatteryProfile->nav.mc.hover_throttle`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves navigation position hold and general manual/auto flight parameters. Some parameters depend on the platform type (Multirotor vs Fixed Wing)."
    },
    "MSP_SET_NAV_POSHOLD": {
        "code": 13,
        "hex": "0xd",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 13,
            "struct": "<BHHHHBBH",
            "payload": [
                {
                    "name": "userControlMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `navConfigMutable()->general.flags.user_control_mode`.",
                    "enum": "?_e"
                },
                {
                    "name": "maxAutoSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->general.max_auto_speed`."
                },
                {
                    "name": "maxAutoClimbRate",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `fw.max_auto_climb_rate` or `mc.max_auto_climb_rate` based on current platform type."
                },
                {
                    "name": "maxManualSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->general.max_manual_speed`."
                },
                {
                    "name": "maxManualClimbRate",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `fw.max_manual_climb_rate` or `mc.max_manual_climb_rate`."
                },
                {
                    "name": "mcMaxBankAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Sets `navConfigMutable()->mc.max_bank_angle`."
                },
                {
                    "name": "mcAltHoldThrottleType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `navConfigMutable()->mc.althold_throttle_type`.",
                    "enum": "?_e"
                },
                {
                    "name": "mcHoverThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->nav.mc.hover_throttle`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 13 bytes.",
        "description": "Sets navigation position hold and general manual/auto flight parameters."
    },
    "MSP_CALIBRATION_DATA": {
        "code": 14,
        "hex": "0xe",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 27,
            "struct": "<BHHHHHHHHHHHHH",
            "payload": [
                {
                    "name": "accCalibAxisFlags",
                    "ctype": "uint8_t",
                    "units": "Bitmask",
                    "desc": "Flags indicating which axes of the accelerometer have been calibrated (`accGetCalibrationAxisFlags()`)."
                },
                {
                    "name": "accZeroX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Accelerometer zero offset for X-axis (`accelerometerConfig()->accZero.raw[X]`)."
                },
                {
                    "name": "accZeroY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Accelerometer zero offset for Y-axis (`accelerometerConfig()->accZero.raw[Y]`)."
                },
                {
                    "name": "accZeroZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Accelerometer zero offset for Z-axis (`accelerometerConfig()->accZero.raw[Z]`)."
                },
                {
                    "name": "accGainX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Accelerometer gain/scale for X-axis (`accelerometerConfig()->accGain.raw[X]`)."
                },
                {
                    "name": "accGainY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Accelerometer gain/scale for Y-axis (`accelerometerConfig()->accGain.raw[Y]`)."
                },
                {
                    "name": "accGainZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Accelerometer gain/scale for Z-axis (`accelerometerConfig()->accGain.raw[Z]`)."
                },
                {
                    "name": "magZeroX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Magnetometer zero offset for X-axis (`compassConfig()->magZero.raw[X]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "magZeroY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Magnetometer zero offset for Y-axis (`compassConfig()->magZero.raw[Y]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "magZeroZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Magnetometer zero offset for Z-axis (`compassConfig()->magZero.raw[Z]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "opflowScale",
                    "ctype": "uint16_t",
                    "units": "Scale * 256",
                    "desc": "Optical flow scale factor (`opticalFlowConfig()->opflow_scale * 256`). 0 if `USE_OPFLOW` disabled."
                },
                {
                    "name": "magGainX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Magnetometer gain/scale for X-axis (`compassConfig()->magGain[X]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "magGainY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Magnetometer gain/scale for Y-axis (`compassConfig()->magGain[Y]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "magGainZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Magnetometer gain/scale for Z-axis (`compassConfig()->magGain[Z]`). 0 if `USE_MAG` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Total size 27 bytes. Fields related to optional sensors are zero if the sensor is not used.",
        "description": "Retrieves sensor calibration data (Accelerometer zero/gain, Magnetometer zero/gain, Optical Flow scale)."
    },
    "MSP_SET_CALIBRATION_DATA": {
        "code": 15,
        "hex": "0xf",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 26,
            "struct": "<HHHHHHHHHHHHH",
            "payload": [
                {
                    "name": "accZeroX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `accelerometerConfigMutable()->accZero.raw[X]`."
                },
                {
                    "name": "accZeroY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `accelerometerConfigMutable()->accZero.raw[Y]`."
                },
                {
                    "name": "accZeroZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `accelerometerConfigMutable()->accZero.raw[Z]`."
                },
                {
                    "name": "accGainX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `accelerometerConfigMutable()->accGain.raw[X]`."
                },
                {
                    "name": "accGainY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `accelerometerConfigMutable()->accGain.raw[Y]`."
                },
                {
                    "name": "accGainZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `accelerometerConfigMutable()->accGain.raw[Z]`."
                },
                {
                    "name": "magZeroX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `compassConfigMutable()->magZero.raw[X]` (if `USE_MAG`)."
                },
                {
                    "name": "magZeroY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `compassConfigMutable()->magZero.raw[Y]` (if `USE_MAG`)."
                },
                {
                    "name": "magZeroZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `compassConfigMutable()->magZero.raw[Z]` (if `USE_MAG`)."
                },
                {
                    "name": "opflowScale",
                    "ctype": "uint16_t",
                    "units": "Scale * 256",
                    "desc": "Sets `opticalFlowConfigMutable()->opflow_scale = value / 256.0f` (if `USE_OPFLOW`)."
                },
                {
                    "name": "magGainX",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `compassConfigMutable()->magGain[X]` (if `USE_MAG`)."
                },
                {
                    "name": "magGainY",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `compassConfigMutable()->magGain[Y]` (if `USE_MAG`)."
                },
                {
                    "name": "magGainZ",
                    "ctype": "uint16_t",
                    "units": "Raw ADC",
                    "desc": "Sets `compassConfigMutable()->magGain[Z]` (if `USE_MAG`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 26 bytes. Ignores values for sensors not enabled by `USE_*` defines.",
        "description": "Sets sensor calibration data."
    },
    "MSP_POSITION_ESTIMATION_CONFIG": {
        "code": 16,
        "hex": "0x10",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 12,
            "struct": "<HHHHHBB",
            "payload": [
                {
                    "name": "weightZBaroP",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "Barometer Z position fusion weight (`positionEstimationConfig()->w_z_baro_p * 100`)."
                },
                {
                    "name": "weightZGPSP",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "GPS Z position fusion weight (`positionEstimationConfig()->w_z_gps_p * 100`)."
                },
                {
                    "name": "weightZGPSV",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "GPS Z velocity fusion weight (`positionEstimationConfig()->w_z_gps_v * 100`)."
                },
                {
                    "name": "weightXYGPSP",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "GPS XY position fusion weight (`positionEstimationConfig()->w_xy_gps_p * 100`)."
                },
                {
                    "name": "weightXYGPSV",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "GPS XY velocity fusion weight (`positionEstimationConfig()->w_xy_gps_v * 100`)."
                },
                {
                    "name": "minSats",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Minimum satellites required for GPS use (`gpsConfigMutable()->gpsMinSats`)."
                },
                {
                    "name": "useGPSVelNED",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Legacy flag, always 1 (GPS velocity is always used if available)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves parameters related to the INAV position estimation fusion weights and GPS minimum satellite count."
    },
    "MSP_SET_POSITION_ESTIMATION_CONFIG": {
        "code": 17,
        "hex": "0x11",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 12,
            "struct": "<HHHHHBB",
            "payload": [
                {
                    "name": "weightZBaroP",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "Sets `positionEstimationConfigMutable()->w_z_baro_p = value / 100.0f` (constrained 0.0-10.0)."
                },
                {
                    "name": "weightZGPSP",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "Sets `positionEstimationConfigMutable()->w_z_gps_p = value / 100.0f` (constrained 0.0-10.0)."
                },
                {
                    "name": "weightZGPSV",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "Sets `positionEstimationConfigMutable()->w_z_gps_v = value / 100.0f` (constrained 0.0-10.0)."
                },
                {
                    "name": "weightXYGPSP",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "Sets `positionEstimationConfigMutable()->w_xy_gps_p = value / 100.0f` (constrained 0.0-10.0)."
                },
                {
                    "name": "weightXYGPSV",
                    "ctype": "uint16_t",
                    "units": "Weight * 100",
                    "desc": "Sets `positionEstimationConfigMutable()->w_xy_gps_v = value / 100.0f` (constrained 0.0-10.0)."
                },
                {
                    "name": "minSats",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Sets `gpsConfigMutable()->gpsMinSats` (constrained 5-10)."
                },
                {
                    "name": "useGPSVelNED",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Legacy flag, ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 12 bytes.",
        "description": "Sets parameters related to the INAV position estimation fusion weights and GPS minimum satellite count."
    },
    "MSP_WP_MISSION_LOAD": {
        "code": 18,
        "hex": "0x12",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "missionID",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Reserved for future use, currently ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Only functional if `NAV_NON_VOLATILE_WAYPOINT_STORAGE` is defined. Requires 1 byte payload. Returns error if loading fails.",
        "description": "Commands the FC to load the waypoint mission stored in non-volatile memory (e.g., EEPROM or FlashFS) into the active mission buffer."
    },
    "MSP_WP_MISSION_SAVE": {
        "code": 19,
        "hex": "0x13",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "missionID",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Reserved for future use, currently ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Only functional if `NAV_NON_VOLATILE_WAYPOINT_STORAGE` is defined. Requires 1 byte payload. Returns error if saving fails.",
        "description": "Commands the FC to save the currently active waypoint mission from RAM to non-volatile memory (e.g., EEPROM or FlashFS)."
    },
    "MSP_WP_GETINFO": {
        "code": 20,
        "hex": "0x14",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "wpCapabilities",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Reserved for future waypoint capabilities flags. Currently always 0."
                },
                {
                    "name": "maxWaypoints",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Maximum number of waypoints supported (`NAV_MAX_WAYPOINTS`)."
                },
                {
                    "name": "missionValid",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean flag indicating if the current mission in RAM is valid (`isWaypointListValid()`)."
                },
                {
                    "name": "waypointCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of waypoints currently defined in the mission (`getWaypointCount()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves information about the waypoint mission capabilities and the status of the currently loaded mission."
    },
    "MSP_RTH_AND_LAND_CONFIG": {
        "code": 21,
        "hex": "0x15",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 21,
            "struct": "<HBBBBBHHHHHHH",
            "payload": [
                {
                    "name": "minRthDistance",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Minimum distance from home required for RTH to engage (`navConfig()->general.min_rth_distance`)."
                },
                {
                    "name": "rthClimbFirst",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Flag: Climb to RTH altitude before returning (`navConfig()->general.flags.rth_climb_first`)."
                },
                {
                    "name": "rthClimbIgnoreEmerg",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Flag: Climb even in emergency RTH (`navConfig()->general.flags.rth_climb_ignore_emerg`)."
                },
                {
                    "name": "rthTailFirst",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Flag: Multirotor returns tail-first (`navConfig()->general.flags.rth_tail_first`)."
                },
                {
                    "name": "rthAllowLanding",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Flag: Allow automatic landing after RTH (`navConfig()->general.flags.rth_allow_landing`)."
                },
                {
                    "name": "rthAltControlMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "RTH altitude control mode (`navConfig()->general.flags.rth_alt_control_mode`).",
                    "enum": "?_e"
                },
                {
                    "name": "rthAbortThreshold",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Stick input threshold to abort RTH (`navConfig()->general.rth_abort_threshold`)."
                },
                {
                    "name": "rthAltitude",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Target RTH altitude (`navConfig()->general.rth_altitude`)."
                },
                {
                    "name": "landMinAltVspd",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Landing vertical speed at minimum slowdown altitude (`navConfig()->general.land_minalt_vspd`)."
                },
                {
                    "name": "landMaxAltVspd",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Landing vertical speed at maximum slowdown altitude (`navConfig()->general.land_maxalt_vspd`)."
                },
                {
                    "name": "landSlowdownMinAlt",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Altitude below which `landMinAltVspd` applies (`navConfig()->general.land_slowdown_minalt`)."
                },
                {
                    "name": "landSlowdownMaxAlt",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Altitude above which `landMaxAltVspd` applies (`navConfig()->general.land_slowdown_maxalt`)."
                },
                {
                    "name": "emergDescentRate",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Vertical speed during emergency landing descent (`navConfig()->general.emerg_descent_rate`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves configuration parameters related to Return-to-Home (RTH) and automatic landing behaviors."
    },
    "MSP_SET_RTH_AND_LAND_CONFIG": {
        "code": 22,
        "hex": "0x16",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 21,
            "struct": "<HBBBBBHHHHHHH",
            "payload": [
                {
                    "name": "minRthDistance",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `navConfigMutable()->general.min_rth_distance`."
                },
                {
                    "name": "rthClimbFirst",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_climb_first`."
                },
                {
                    "name": "rthClimbIgnoreEmerg",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_climb_ignore_emerg`."
                },
                {
                    "name": "rthTailFirst",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_tail_first`."
                },
                {
                    "name": "rthAllowLanding",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_allow_landing`."
                },
                {
                    "name": "rthAltControlMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_alt_control_mode`.",
                    "enum": "?_e"
                },
                {
                    "name": "rthAbortThreshold",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->general.rth_abort_threshold`."
                },
                {
                    "name": "rthAltitude",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `navConfigMutable()->general.rth_altitude`."
                },
                {
                    "name": "landMinAltVspd",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->general.land_minalt_vspd`."
                },
                {
                    "name": "landMaxAltVspd",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->general.land_maxalt_vspd`."
                },
                {
                    "name": "landSlowdownMinAlt",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `navConfigMutable()->general.land_slowdown_minalt`."
                },
                {
                    "name": "landSlowdownMaxAlt",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `navConfigMutable()->general.land_slowdown_maxalt`."
                },
                {
                    "name": "emergDescentRate",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->general.emerg_descent_rate`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 21 bytes.",
        "description": "Sets configuration parameters related to Return-to-Home (RTH) and automatic landing behaviors."
    },
    "MSP_FW_CONFIG": {
        "code": 23,
        "hex": "0x17",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 12,
            "struct": "<HHHBBBBH",
            "payload": [
                {
                    "name": "cruiseThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Cruise throttle level (`currentBatteryProfile->nav.fw.cruise_throttle`)."
                },
                {
                    "name": "minThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Minimum throttle during autonomous flight (`currentBatteryProfile->nav.fw.min_throttle`)."
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Maximum throttle during autonomous flight (`currentBatteryProfile->nav.fw.max_throttle`)."
                },
                {
                    "name": "maxBankAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Maximum bank angle allowed (`navConfig()->fw.max_bank_angle`)."
                },
                {
                    "name": "maxClimbAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Maximum pitch angle during climb (`navConfig()->fw.max_climb_angle`)."
                },
                {
                    "name": "maxDiveAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Maximum negative pitch angle during descent (`navConfig()->fw.max_dive_angle`)."
                },
                {
                    "name": "pitchToThrottle",
                    "ctype": "uint8_t",
                    "units": "Ratio (%)",
                    "desc": "Pitch-to-throttle feed-forward ratio (`currentBatteryProfile->nav.fw.pitch_to_throttle`)."
                },
                {
                    "name": "loiterRadius",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Default loiter radius (`navConfig()->fw.loiter_radius`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves configuration parameters specific to Fixed Wing navigation."
    },
    "MSP_SET_FW_CONFIG": {
        "code": 24,
        "hex": "0x18",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 12,
            "struct": "<HHHBBBBH",
            "payload": [
                {
                    "name": "cruiseThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.cruise_throttle`."
                },
                {
                    "name": "minThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.min_throttle`."
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.max_throttle`."
                },
                {
                    "name": "maxBankAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Sets `navConfigMutable()->fw.max_bank_angle`."
                },
                {
                    "name": "maxClimbAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Sets `navConfigMutable()->fw.max_climb_angle`."
                },
                {
                    "name": "maxDiveAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Sets `navConfigMutable()->fw.max_dive_angle`."
                },
                {
                    "name": "pitchToThrottle",
                    "ctype": "uint8_t",
                    "units": "Ratio (%)",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.pitch_to_throttle`."
                },
                {
                    "name": "loiterRadius",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `navConfigMutable()->fw.loiter_radius`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 12 bytes.",
        "description": "Sets configuration parameters specific to Fixed Wing navigation."
    },
    "MSP_MODE_RANGES": {
        "code": 34,
        "hex": "0x22",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "modePermanentId",
                    "ctype": "uint8_t",
                    "units": "ID",
                    "desc": "Permanent ID of the flight mode (maps to `boxId` via `findBoxByActiveBoxId`). 0 if entry unused."
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "0-based index of the AUX channel used for activation."
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "units": "0-20",
                    "desc": "Start step (corresponding to channel value range 900-2100 in steps of 50/25, depends on steps calculation)."
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "units": "0-20",
                    "desc": "End step for the activation range."
                }
            ],
            "repeating": "MAX_MODE_ACTIVATION_CONDITION_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "The number of steps and mapping to PWM values depends on internal range calculations.",
        "description": "Returns all defined mode activation ranges (aux channel assignments for flight modes)."
    },
    "MSP_SET_MODE_RANGE": {
        "code": 35,
        "hex": "0x23",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 5,
            "struct": "<BBBBB",
            "payload": [
                {
                    "name": "rangeIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the mode range to set (0 to `MAX_MODE_ACTIVATION_CONDITION_COUNT - 1`)."
                },
                {
                    "name": "modePermanentId",
                    "ctype": "uint8_t",
                    "units": "ID",
                    "desc": "Permanent ID of the flight mode to assign."
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "0-based index of the AUX channel."
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "units": "0-20",
                    "desc": "Start step for activation."
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "units": "0-20",
                    "desc": "End step for activation."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 5 bytes. Updates the mode configuration and recalculates used mode flags. Returns error if `rangeIndex` or `modePermanentId` is invalid.",
        "description": "Sets a single mode activation range by its index."
    },
    "MSP_FEATURE": {
        "code": 36,
        "hex": "0x24",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "featureMask",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Bitmask of active features (see `featureMask()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Feature bits are defined in `feature.h`.",
        "description": "Returns a bitmask of enabled features."
    },
    "MSP_SET_FEATURE": {
        "code": 37,
        "hex": "0x25",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "featureMask",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Bitmask of features to enable."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 4 bytes. Updates feature configuration and related settings (e.g., RSSI source).",
        "description": "Sets the enabled features using a bitmask. Clears all previous features first."
    },
    "MSP_BOARD_ALIGNMENT": {
        "code": 38,
        "hex": "0x26",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<HHH",
            "payload": [
                {
                    "name": "rollAlign",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Board alignment roll angle (`boardAlignment()->rollDeciDegrees`)."
                },
                {
                    "name": "pitchAlign",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Board alignment pitch angle (`boardAlignment()->pitchDeciDegrees`)."
                },
                {
                    "name": "yawAlign",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Board alignment yaw angle (`boardAlignment()->yawDeciDegrees`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Returns the sensor board alignment angles relative to the craft frame."
    },
    "MSP_SET_BOARD_ALIGNMENT": {
        "code": 39,
        "hex": "0x27",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 6,
            "struct": "<HHH",
            "payload": [
                {
                    "name": "rollAlign",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Sets `boardAlignmentMutable()->rollDeciDegrees`."
                },
                {
                    "name": "pitchAlign",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Sets `boardAlignmentMutable()->pitchDeciDegrees`."
                },
                {
                    "name": "yawAlign",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Sets `boardAlignmentMutable()->yawDeciDegrees`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 6 bytes.",
        "description": "Sets the sensor board alignment angles."
    },
    "MSP_CURRENT_METER_CONFIG": {
        "code": 40,
        "hex": "0x28",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 7,
            "struct": "<HHBH",
            "payload": [
                {
                    "name": "scale",
                    "ctype": "uint16_t",
                    "units": "mV/10A or similar",
                    "desc": "Current sensor scale factor (`batteryMetersConfig()->current.scale`). Units depend on sensor type."
                },
                {
                    "name": "offset",
                    "ctype": "uint16_t",
                    "units": "mV",
                    "desc": "Current sensor offset (`batteryMetersConfig()->current.offset`)."
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Type of current sensor hardware (`batteryMetersConfig()->current.type`).",
                    "enum": "?_e"
                },
                {
                    "name": "capacity",
                    "ctype": "uint16_t",
                    "units": "mAh (legacy)",
                    "desc": "Battery capacity (constrained 0-65535) (`currentBatteryProfile->capacity.value`). Note: This is legacy, use `MSP2_INAV_BATTERY_CONFIG` for full 32-bit capacity."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves the configuration for the current sensor."
    },
    "MSP_SET_CURRENT_METER_CONFIG": {
        "code": 41,
        "hex": "0x29",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 7,
            "struct": "<HHBH",
            "payload": [
                {
                    "name": "scale",
                    "ctype": "uint16_t",
                    "units": "mV/10A or similar",
                    "desc": "Sets `batteryMetersConfigMutable()->current.scale`."
                },
                {
                    "name": "offset",
                    "ctype": "uint16_t",
                    "units": "mV",
                    "desc": "Sets `batteryMetersConfigMutable()->current.offset`."
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `batteryMetersConfigMutable()->current.type`.",
                    "enum": "?_e"
                },
                {
                    "name": "capacity",
                    "ctype": "uint16_t",
                    "units": "mAh (legacy)",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.value` (truncated to 16 bits)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 7 bytes.",
        "description": "Sets the configuration for the current sensor."
    },
    "MSP_MIXER": {
        "code": 42,
        "hex": "0x2a",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "mixerMode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 3 (QuadX) in INAV for compatibility."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "This command is largely obsolete. Mixer configuration is handled differently in INAV (presets, custom mixes). See `MSP2_INAV_MIXER`.",
        "description": "Retrieves the mixer type (Legacy, INAV always returns QuadX)."
    },
    "MSP_SET_MIXER": {
        "code": 43,
        "hex": "0x2b",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "mixerMode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Mixer mode to set (ignored by INAV)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 1 byte. Calls `mixerUpdateStateFlags()` for potential side effects related to presets.",
        "description": "Sets the mixer type (Legacy, ignored by INAV)."
    },
    "MSP_RX_CONFIG": {
        "code": 44,
        "hex": "0x2c",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 24,
            "struct": "<BHHHBHHBBHBIBBB",
            "payload": [
                {
                    "name": "serialRxProvider",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Serial RX provider type (`rxConfig()->serialrx_provider`).",
                    "enum": "?_e"
                },
                {
                    "name": "maxCheck",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Upper channel value threshold for stick commands (`rxConfig()->maxcheck`)."
                },
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Center channel value (`PWM_RANGE_MIDDLE`, typically 1500)."
                },
                {
                    "name": "minCheck",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Lower channel value threshold for stick commands (`rxConfig()->mincheck`)."
                },
                {
                    "name": "spektrumSatBind",
                    "ctype": "uint8_t",
                    "units": "Count/Flag",
                    "desc": "Spektrum bind pulses (`rxConfig()->spektrum_sat_bind`). 0 if `USE_SPEKTRUM_BIND` disabled."
                },
                {
                    "name": "rxMinUsec",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Minimum expected pulse width (`rxConfig()->rx_min_usec`)."
                },
                {
                    "name": "rxMaxUsec",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Maximum expected pulse width (`rxConfig()->rx_max_usec`)."
                },
                {
                    "name": "bfCompatRcInterpolation",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "BF compatibility. Always 0."
                },
                {
                    "name": "bfCompatRcInterpolationInt",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "BF compatibility. Always 0."
                },
                {
                    "name": "bfCompatAirModeThreshold",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "BF compatibility. Always 0."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Reserved/Padding. Always 0."
                },
                {
                    "name": "reserved2",
                    "ctype": "uint32_t",
                    "units": "-",
                    "desc": "Reserved/Padding. Always 0."
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Reserved/Padding. Always 0."
                },
                {
                    "name": "bfCompatFpvCamAngle",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "BF compatibility. Always 0."
                },
                {
                    "name": "receiverType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Receiver type (Parallel PWM, PPM, Serial) (`rxConfig()->receiverType`).",
                    "enum": "?_e"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves receiver configuration settings. Some fields are Betaflight compatibility placeholders."
    },
    "MSP_SET_RX_CONFIG": {
        "code": 45,
        "hex": "0x2d",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 24,
            "struct": "<BHHHBHHBBHBIBBB",
            "payload": [
                {
                    "name": "serialRxProvider",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `rxConfigMutable()->serialrx_provider`.",
                    "enum": "?_e"
                },
                {
                    "name": "maxCheck",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `rxConfigMutable()->maxcheck`."
                },
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Ignored (`PWM_RANGE_MIDDLE` is used)."
                },
                {
                    "name": "minCheck",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `rxConfigMutable()->mincheck`."
                },
                {
                    "name": "spektrumSatBind",
                    "ctype": "uint8_t",
                    "units": "Count/Flag",
                    "desc": "Sets `rxConfigMutable()->spektrum_sat_bind` (if `USE_SPEKTRUM_BIND`)."
                },
                {
                    "name": "rxMinUsec",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Sets `rxConfigMutable()->rx_min_usec`."
                },
                {
                    "name": "rxMaxUsec",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Sets `rxConfigMutable()->rx_max_usec`."
                },
                {
                    "name": "bfCompatRcInterpolation",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatRcInterpolationInt",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatAirModeThreshold",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved2",
                    "ctype": "uint32_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatFpvCamAngle",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "receiverType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `rxConfigMutable()->receiverType`.",
                    "enum": "?_e"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 24 bytes.",
        "description": "Sets receiver configuration settings."
    },
    "MSP_LED_COLORS": {
        "code": 46,
        "hex": "0x2e",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<HBB",
            "payload": [
                {
                    "name": "hue",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Hue value (0-359)."
                },
                {
                    "name": "saturation",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Saturation value (0-255)."
                },
                {
                    "name": "value",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Value/Brightness (0-255)."
                }
            ],
            "repeating": "LED_CONFIGURABLE_COLOR_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Only available if `USE_LED_STRIP` is defined.",
        "description": "Retrieves the HSV color definitions for configurable LED colors."
    },
    "MSP_SET_LED_COLORS": {
        "code": 47,
        "hex": "0x2f",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<HBB",
            "payload": [
                {
                    "name": "hue",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Hue value (0-359)."
                },
                {
                    "name": "saturation",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Saturation value (0-255)."
                },
                {
                    "name": "value",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Value/Brightness (0-255)."
                }
            ],
            "repeating": "LED_CONFIGURABLE_COLOR_COUNT"
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Only available if `USE_LED_STRIP` is defined. Expects `LED_CONFIGURABLE_COLOR_COUNT * 4` bytes.",
        "description": "Sets the HSV color definitions for configurable LED colors."
    },
    "MSP_LED_STRIP_CONFIG": {
        "code": 48,
        "hex": "0x30",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "legacyLedConfig",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Packed LED configuration (position, function, overlay, color, direction, params). See C code for bit packing details."
                }
            ],
            "repeating": "LED_MAX_STRIP_LENGTH"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Only available if `USE_LED_STRIP` is defined. Superseded by `MSP2_INAV_LED_STRIP_CONFIG_EX` which uses a clearer struct.",
        "description": "Retrieves the configuration for each LED on the strip (legacy packed format)."
    },
    "MSP_SET_LED_STRIP_CONFIG": {
        "code": 49,
        "hex": "0x31",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 5,
            "struct": "<BI",
            "payload": [
                {
                    "name": "ledIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the LED to configure (0 to `LED_MAX_STRIP_LENGTH - 1`)."
                },
                {
                    "name": "legacyLedConfig",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Packed LED configuration to set."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Only available if `USE_LED_STRIP` is defined. Expects 5 bytes. Calls `reevaluateLedConfig()`. Superseded by `MSP2_INAV_SET_LED_STRIP_CONFIG_EX`.",
        "description": "Sets the configuration for a single LED on the strip using the legacy packed format."
    },
    "MSP_RSSI_CONFIG": {
        "code": 50,
        "hex": "0x32",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "AUX channel index (1-based) used for RSSI, or 0 if disabled (`rxConfig()->rssi_channel`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves the channel used for analog RSSI input."
    },
    "MSP_SET_RSSI_CONFIG": {
        "code": 51,
        "hex": "0x33",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "AUX channel index (1-based) to use for RSSI, or 0 to disable."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 1 byte. Input value is constrained 0 to `MAX_SUPPORTED_RC_CHANNEL_COUNT`. Updates the effective RSSI source.",
        "description": "Sets the channel used for analog RSSI input."
    },
    "MSP_ADJUSTMENT_RANGES": {
        "code": 52,
        "hex": "0x34",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<BBBBBB",
            "payload": [
                {
                    "name": "adjustmentIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the adjustment slot (0 to `MAX_SIMULTANEOUS_ADJUSTMENT_COUNT - 1`)."
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "0-based index of the AUX channel controlling the adjustment value."
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Start step (0-20) of the control channel range."
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "End step (0-20) of the control channel range."
                },
                {
                    "name": "adjustmentFunction",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Function/parameter being adjusted (e.g., PID gain, rate). See `rcAdjustments.h` enum.",
                    "enum": "rcAdjustments.h"
                },
                {
                    "name": "auxSwitchChannelIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "0-based index of the AUX channel acting as an enable switch (or 0 if always enabled)."
                }
            ],
            "repeating": "MAX_ADJUSTMENT_RANGE_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "See `adjustmentRange_t`.",
        "description": "Returns all defined RC adjustment ranges (tuning via aux channels)."
    },
    "MSP_SET_ADJUSTMENT_RANGE": {
        "code": 53,
        "hex": "0x35",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 7,
            "struct": "<BBBBBBB",
            "payload": [
                {
                    "name": "rangeIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the adjustment range to set (0 to `MAX_ADJUSTMENT_RANGE_COUNT - 1`)."
                },
                {
                    "name": "adjustmentIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Adjustment slot index (0 to `MAX_SIMULTANEOUS_ADJUSTMENT_COUNT - 1`)."
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "0-based index of the control AUX channel."
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Start step (0-20)."
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "End step (0-20)."
                },
                {
                    "name": "adjustmentFunction",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Function/parameter being adjusted."
                },
                {
                    "name": "auxSwitchChannelIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "0-based index of the enable switch AUX channel (or 0)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 7 bytes. Returns error if `rangeIndex` or `adjustmentIndex` is invalid.",
        "description": "Sets a single RC adjustment range configuration by its index."
    },
    "MSP_CF_SERIAL_CONFIG": {
        "code": 54,
        "hex": "0x36",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`. Use `MSP2_COMMON_SERIAL_CONFIG`.",
        "description": "Deprecated command to get serial port configuration."
    },
    "MSP_SET_CF_SERIAL_CONFIG": {
        "code": 55,
        "hex": "0x37",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`. Use `MSP2_COMMON_SET_SERIAL_CONFIG`.",
        "description": "Deprecated command to set serial port configuration."
    },
    "MSP_VOLTAGE_METER_CONFIG": {
        "code": 56,
        "hex": "0x38",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "units": "Scale / 10",
                    "desc": "Voltage sensor scale factor / 10 (`batteryMetersConfig()->voltage.scale / 10`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Minimum cell voltage / 10 (`currentBatteryProfile->voltage.cellMin / 10`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Maximum cell voltage / 10 (`currentBatteryProfile->voltage.cellMax / 10`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Warning cell voltage / 10 (`currentBatteryProfile->voltage.cellWarning / 10`). 0 if `USE_ADC` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_BATTERY_CONFIG`.",
        "description": "Retrieves legacy voltage meter configuration (scaled values)."
    },
    "MSP_SET_VOLTAGE_METER_CONFIG": {
        "code": 57,
        "hex": "0x39",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "units": "Scale / 10",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale = value * 10` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin = value * 10` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax = value * 10` (if `USE_ADC`)."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning = value * 10` (if `USE_ADC`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 4 bytes. Superseded by `MSP2_INAV_SET_BATTERY_CONFIG`.",
        "description": "Sets legacy voltage meter configuration (scaled values)."
    },
    "MSP_SONAR_ALTITUDE": {
        "code": 58,
        "hex": "0x3a",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "rangefinderAltitude",
                    "ctype": "uint32_t",
                    "units": "cm",
                    "desc": "Latest altitude reading from the rangefinder (`rangefinderGetLatestAltitude()`). 0 if `USE_RANGEFINDER` disabled or no reading."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves the altitude measured by the primary rangefinder (sonar or lidar)."
    },
    "MSP_RX_MAP": {
        "code": 64,
        "hex": "0x40",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "rcMap",
                    "ctype": "uint8_t[MAX_MAPPABLE_RX_INPUTS]",
                    "units": "",
                    "desc": "Array defining the mapping from input channel index to logical function (Roll, Pitch, Yaw, Throttle, Aux1...).",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": "MAX_MAPPABLE_RX_INPUTS"
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "`MAX_MAPPABLE_RX_INPUTS` is typically 8 or more.",
        "description": "Retrieves the RC channel mapping array (AETR, etc.)."
    },
    "MSP_SET_RX_MAP": {
        "code": 65,
        "hex": "0x41",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 0,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "rcMap",
                    "ctype": "uint8_t[MAX_MAPPABLE_RX_INPUTS]",
                    "units": "",
                    "desc": "Array defining the new channel mapping.",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": "MAX_MAPPABLE_RX_INPUTS"
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Expects `MAX_MAPPABLE_RX_INPUTS` bytes.",
        "description": "Sets the RC channel mapping array."
    },
    "MSP_REBOOT": {
        "code": 68,
        "hex": "0x44",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "The FC sends an ACK *before* rebooting. The `mspPostProcessFn` is set to `mspRebootFn` to perform the reboot after the reply is sent. Will fail if the craft is armed.",
        "description": "Commands the flight controller to reboot."
    },
    "MSP_DATAFLASH_SUMMARY": {
        "code": 70,
        "hex": "0x46",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 13,
            "struct": "<BIII",
            "payload": [
                {
                    "name": "flashReady",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if flash chip is ready, 0 otherwise. (`flashIsReady()`). 0 if `USE_FLASHFS` disabled."
                },
                {
                    "name": "sectorCount",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Total number of sectors on the flash chip (`geometry->sectors`). 0 if `USE_FLASHFS` disabled."
                },
                {
                    "name": "totalSize",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Total size of the flash chip in bytes (`geometry->totalSize`). 0 if `USE_FLASHFS` disabled."
                },
                {
                    "name": "usedSize",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Currently used size in bytes (FlashFS offset) (`flashfsGetOffset()`). 0 if `USE_FLASHFS` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_FLASHFS`.",
        "description": "Retrieves summary information about the onboard dataflash chip (if present and used for Blackbox via FlashFS)."
    },
    "MSP_DATAFLASH_READ": {
        "code": 71,
        "hex": "0x47",
        "mspv": 1,
        "direction": 2,
        "request": {
            "size": 6,
            "struct": "<IH",
            "payload": [
                {
                    "name": "address",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Starting address to read from within the FlashFS volume."
                },
                {
                    "name": "size",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "(Optional) Number of bytes to read. Defaults to 128 if not provided.",
                    "optional": true
                }
            ]
        },
        "reply": {
            "size": 14,
            "struct": "<II",
            "payload": [
                {
                    "name": "address",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "The starting address from which data was actually read."
                },
                {
                    "name": "data",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "The data read from flash. Length is MIN(requested size, remaining buffer space, remaining flashfs data).",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_FLASHFS`. Read length may be truncated by buffer size or end of flashfs volume.",
        "description": "Reads a block of data from the onboard dataflash (FlashFS)."
    },
    "MSP_DATAFLASH_ERASE": {
        "code": 72,
        "hex": "0x48",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_FLASHFS`. This is a potentially long operation. Use with caution.",
        "description": "Erases the entire onboard dataflash chip (FlashFS volume)."
    },
    "MSP_LOOP_TIME": {
        "code": 73,
        "hex": "0x49",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 2,
            "struct": "<H",
            "payload": [
                {
                    "name": "looptime",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Configured loop time (`gyroConfig()->looptime`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "This is the *configured* target loop time, not necessarily the *actual* measured cycle time (see `MSP_STATUS`).",
        "description": "Retrieves the configured loop time (PID loop frequency denominator)."
    },
    "MSP_SET_LOOP_TIME": {
        "code": 74,
        "hex": "0x4a",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 2,
            "struct": "<H",
            "payload": [
                {
                    "name": "looptime",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "New loop time to set (`gyroConfigMutable()->looptime`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 2 bytes.",
        "description": "Sets the configured loop time."
    },
    "MSP_FAILSAFE_CONFIG": {
        "code": 75,
        "hex": "0x4b",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 20,
            "struct": "<BBHBHBBHHHHHB",
            "payload": [
                {
                    "name": "failsafeDelay",
                    "ctype": "uint8_t",
                    "units": "0.1s",
                    "desc": "Delay before failsafe stage 1 activates (`failsafeConfig()->failsafe_delay`)."
                },
                {
                    "name": "failsafeOffDelay",
                    "ctype": "uint8_t",
                    "units": "0.1s",
                    "desc": "Delay after signal recovery before returning control (`failsafeConfig()->failsafe_off_delay`)."
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Throttle level during failsafe stage 2 (`currentBatteryProfile->failsafe_throttle`)."
                },
                {
                    "name": "legacyKillSwitch",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Legacy flag, always 0."
                },
                {
                    "name": "failsafeThrottleLowDelay",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Delay for throttle-based failsafe detection (`failsafeConfig()->failsafe_throttle_low_delay`)."
                },
                {
                    "name": "failsafeProcedure",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Failsafe procedure (Drop, RTH, Land, etc.) (`failsafeConfig()->failsafe_procedure`).",
                    "enum": "?_e"
                },
                {
                    "name": "failsafeRecoveryDelay",
                    "ctype": "uint8_t",
                    "units": "0.1s",
                    "desc": "Delay after RTH finishes before attempting recovery (`failsafeConfig()->failsafe_recovery_delay`)."
                },
                {
                    "name": "failsafeFWRollAngle",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Fixed wing failsafe roll angle (`failsafeConfig()->failsafe_fw_roll_angle`)."
                },
                {
                    "name": "failsafeFWPitchAngle",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Fixed wing failsafe pitch angle (`failsafeConfig()->failsafe_fw_pitch_angle`)."
                },
                {
                    "name": "failsafeFWYawRate",
                    "ctype": "uint16_t",
                    "units": "deg/s",
                    "desc": "Fixed wing failsafe yaw rate (`failsafeConfig()->failsafe_fw_yaw_rate`)."
                },
                {
                    "name": "failsafeStickThreshold",
                    "ctype": "uint16_t",
                    "units": "PWM units",
                    "desc": "Stick movement threshold to exit failsafe (`failsafeConfig()->failsafe_stick_motion_threshold`)."
                },
                {
                    "name": "failsafeMinDistance",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Minimum distance from home for RTH failsafe (`failsafeConfig()->failsafe_min_distance`)."
                },
                {
                    "name": "failsafeMinDistanceProc",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Failsafe procedure if below min distance (`failsafeConfig()->failsafe_min_distance_procedure`).",
                    "enum": "?_e"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves the failsafe configuration settings."
    },
    "MSP_SET_FAILSAFE_CONFIG": {
        "code": 76,
        "hex": "0x4c",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 20,
            "struct": "<BBHBHBBHHHHHB",
            "payload": [
                {
                    "name": "failsafeDelay",
                    "ctype": "uint8_t",
                    "units": "0.1s",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_delay`."
                },
                {
                    "name": "failsafeOffDelay",
                    "ctype": "uint8_t",
                    "units": "0.1s",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_off_delay`."
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->failsafe_throttle`."
                },
                {
                    "name": "legacyKillSwitch",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "failsafeThrottleLowDelay",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_throttle_low_delay`."
                },
                {
                    "name": "failsafeProcedure",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_procedure`.",
                    "enum": "?_e"
                },
                {
                    "name": "failsafeRecoveryDelay",
                    "ctype": "uint8_t",
                    "units": "0.1s",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_recovery_delay`."
                },
                {
                    "name": "failsafeFWRollAngle",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_fw_roll_angle` (casted to `int16_t`)."
                },
                {
                    "name": "failsafeFWPitchAngle",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_fw_pitch_angle` (casted to `int16_t`)."
                },
                {
                    "name": "failsafeFWYawRate",
                    "ctype": "uint16_t",
                    "units": "deg/s",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_fw_yaw_rate` (casted to `int16_t`)."
                },
                {
                    "name": "failsafeStickThreshold",
                    "ctype": "uint16_t",
                    "units": "PWM units",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_stick_motion_threshold`."
                },
                {
                    "name": "failsafeMinDistance",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_min_distance`."
                },
                {
                    "name": "failsafeMinDistanceProc",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_min_distance_procedure`.",
                    "enum": "?_e"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 20 bytes.",
        "description": "Sets the failsafe configuration settings."
    },
    "MSP_SDCARD_SUMMARY": {
        "code": 79,
        "hex": "0x4f",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 11,
            "struct": "<BBBII",
            "payload": [
                {
                    "name": "sdCardSupported",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Bitmask: Bit 0 = 1 if SD card support compiled in (`USE_SDCARD`)."
                },
                {
                    "name": "sdCardState",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`mspSDCardState_e`): Current state (Not Present, Fatal, Card Init, FS Init, Ready). 0 if `USE_SDCARD` disabled.",
                    "enum": "mspSDCardState_e"
                },
                {
                    "name": "fsError",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Last filesystem error code (`afatfs_getLastError()`). 0 if `USE_SDCARD` disabled."
                },
                {
                    "name": "freeSpaceKB",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Free space in KiB (`afatfs_getContiguousFreeSpace() / 1024`). 0 if `USE_SDCARD` disabled."
                },
                {
                    "name": "totalSpaceKB",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Total space in KiB (`sdcard_getMetadata()->numBlocks / 2`). 0 if `USE_SDCARD` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_SDCARD` and `USE_ASYNCFATFS`.",
        "description": "Retrieves summary information about the SD card status and filesystem."
    },
    "MSP_BLACKBOX_CONFIG": {
        "code": 80,
        "hex": "0x50",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "blackboxDevice",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0 (API no longer supported)."
                },
                {
                    "name": "blackboxRateNum",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0."
                },
                {
                    "name": "blackboxRateDenom",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0."
                },
                {
                    "name": "blackboxPDenom",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Returns fixed zero values. Use `MSP2_BLACKBOX_CONFIG`.",
        "description": "Legacy command to retrieve Blackbox configuration. Superseded by `MSP2_BLACKBOX_CONFIG`."
    },
    "MSP_SET_BLACKBOX_CONFIG": {
        "code": 81,
        "hex": "0x51",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in `fc_msp.c`. Use `MSP2_SET_BLACKBOX_CONFIG`.",
        "description": "Legacy command to set Blackbox configuration. Superseded by `MSP2_SET_BLACKBOX_CONFIG`."
    },
    "MSP_TRANSPONDER_CONFIG": {
        "code": 82,
        "hex": "0x52",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Get VTX Transponder settings (likely specific to RaceFlight/Betaflight, not standard INAV VTX)."
    },
    "MSP_SET_TRANSPONDER_CONFIG": {
        "code": 83,
        "hex": "0x53",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Set VTX Transponder settings."
    },
    "MSP_OSD_CONFIG": {
        "code": 84,
        "hex": "0x54",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 14,
            "struct": "<BBBBHHHHH",
            "payload": [
                {
                    "name": "osdDriverType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "OSD_DRIVER_MAX7456` if `USE_OSD`, else `OSD_DRIVER_NONE`.",
                    "enum": "?_e"
                },
                {
                    "name": "videoSystem",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Video system (Auto/PAL/NTSC) (`osdConfig()->video_system`). Sent even if OSD disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "units",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Measurement units (Metric/Imperial) (`osdConfig()->units`). Sent even if OSD disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "rssiAlarm",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "RSSI alarm threshold (`osdConfig()->rssi_alarm`). Sent even if OSD disabled."
                },
                {
                    "name": "capAlarm",
                    "ctype": "uint16_t",
                    "units": "mAh/mWh",
                    "desc": "Capacity alarm threshold (`currentBatteryProfile->capacity.warning`). Sent even if OSD disabled."
                },
                {
                    "name": "timerAlarm",
                    "ctype": "uint16_t",
                    "units": "seconds",
                    "desc": "Timer alarm threshold (`osdConfig()->time_alarm`). Sent even if OSD disabled."
                },
                {
                    "name": "altAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Altitude alarm threshold (`osdConfig()->alt_alarm`). Sent even if OSD disabled."
                },
                {
                    "name": "distAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Distance alarm threshold (`osdConfig()->dist_alarm`). Sent even if OSD disabled."
                },
                {
                    "name": "negAltAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Negative altitude alarm threshold (`osdConfig()->neg_alt_alarm`). Sent even if OSD disabled."
                },
                {
                    "name": "itemPositions",
                    "ctype": "uint16_t[OSD_ITEM_COUNT]",
                    "units": "Coordinates",
                    "desc": "Packed X/Y position for each OSD item on screen 0 (`osdLayoutsConfig()->item_pos[0][i]`). Sent even if OSD disabled.",
                    "array": true,
                    "array_ctype": "uint16_t",
                    "array_size": "OSD_ITEM_COUNT"
                }
            ]
        },
        "variable_len": true,
        "complex": true,
        "notes": "Requires `USE_OSD` for meaningful data, but payload is always sent. Coordinates are packed: `(Y << 8) | X`. See `MSP2_INAV_OSD_*` commands for more detail and multi-layout support.",
        "description": "Retrieves OSD configuration settings and layout for screen 0."
    },
    "MSP_SET_OSD_CONFIG": {
        "code": 85,
        "hex": "0x55",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": false,
        "complex": true,
        "notes": "Requires `USE_OSD`. Distinguishes formats based on the first byte. Format 1 requires at least 10 bytes. Format 2 requires 3 bytes. Triggers an OSD redraw. See `MSP2_INAV_OSD_SET_*` for more advanced control.",
        "description": "Sets OSD configuration or a single item's position on screen 0."
    },
    "MSP_OSD_CHAR_READ": {
        "code": 86,
        "hex": "0x56",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`. Requires direct hardware access, typically done via DisplayPort.",
        "description": "Reads character data from the OSD font memory."
    },
    "MSP_OSD_CHAR_WRITE": {
        "code": 87,
        "hex": "0x57",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 0,
            "struct": "<",
            "payload": [
                {
                    "name": "address",
                    "ctype": "uint8_t` or `uint16_t",
                    "units": "",
                    "desc": "Starting address in font memory. Size depends on total payload size.",
                    "polymorph": true
                },
                {
                    "name": "charData",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Character bitmap data (54 or 64 bytes per char, depending on format).",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": true,
        "notes": "Requires `USE_OSD`. Payload size determines address size (8/16 bit) and character data size (visible bytes only or full char with metadata). Uses `displayWriteFontCharacter()`. Requires OSD hardware (like MAX7456) to be present and functional.",
        "description": "Writes character data to the OSD font memory."
    },
    "MSP_VTX_CONFIG": {
        "code": 88,
        "hex": "0x58",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 11,
            "struct": "<BBBBBBBBBBB",
            "payload": [
                {
                    "name": "vtxDeviceType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`VTXDEV_*`): Type of VTX device detected/configured. `VTXDEV_UNKNOWN` if none.",
                    "enum": "VTXDEV_*"
                },
                {
                    "name": "band",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "VTX band number (from `vtxSettingsConfig`)."
                },
                {
                    "name": "channel",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "VTX channel number (from `vtxSettingsConfig`)."
                },
                {
                    "name": "power",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "VTX power level index (from `vtxSettingsConfig`)."
                },
                {
                    "name": "pitMode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if VTX is currently in pit mode, 0 otherwise."
                },
                {
                    "name": "vtxReady",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if VTX device reported ready, 0 otherwise."
                },
                {
                    "name": "lowPowerDisarm",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if low power on disarm is enabled (from `vtxSettingsConfig`)."
                },
                {
                    "name": "vtxTableAvailable",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if VTX tables (band/power) are available for query."
                },
                {
                    "name": "bandCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of bands supported by the VTX device."
                },
                {
                    "name": "channelCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of channels per band supported by the VTX device."
                },
                {
                    "name": "powerCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of power levels supported by the VTX device."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "BF compatibility field `frequency` (uint16) is missing compared to some BF versions. Use `MSP_VTXTABLE_BAND` and `MSP_VTXTABLE_POWERLEVEL` for details.",
        "description": "Retrieves the current VTX (Video Transmitter) configuration and capabilities."
    },
    "MSP_SET_VTX_CONFIG": {
        "code": 89,
        "hex": "0x59",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": false,
        "complex": true,
        "notes": "Requires `USE_VTX_CONTROL`. Minimum size 2 bytes. Applies settings to `vtxSettingsConfig` and potentially directly to the device (pit mode).",
        "description": "Sets the VTX configuration (band, channel, power, pit mode). Supports multiple protocol versions/extensions based on payload size."
    },
    "MSP_ADVANCED_CONFIG": {
        "code": 90,
        "hex": "0x5a",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 9,
            "struct": "<BBBBHHB",
            "payload": [
                {
                    "name": "gyroSyncDenom",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 1 (BF compatibility)."
                },
                {
                    "name": "pidProcessDenom",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 1 (BF compatibility)."
                },
                {
                    "name": "useUnsyncedPwm",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 1 (BF compatibility, INAV uses async PWM based on protocol)."
                },
                {
                    "name": "motorPwmProtocol",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Motor PWM protocol type (`motorConfig()->motorPwmProtocol`)."
                },
                {
                    "name": "motorPwmRate",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Hz: Motor PWM rate (if applicable) (`motorConfig()->motorPwmRate`)."
                },
                {
                    "name": "servoPwmRate",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Hz: Servo PWM rate (`servoConfig()->servoPwmRate`)."
                },
                {
                    "name": "legacyGyroSync",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0 (BF compatibility)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves advanced hardware-related configuration (PWM protocols, rates). Some fields are BF compatibility placeholders."
    },
    "MSP_SET_ADVANCED_CONFIG": {
        "code": 91,
        "hex": "0x5b",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BBBBHHB",
            "payload": [
                {
                    "name": "gyroSyncDenom",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "pidProcessDenom",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "useUnsyncedPwm",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "motorPwmProtocol",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `motorConfigMutable()->motorPwmProtocol`."
                },
                {
                    "name": "motorPwmRate",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `motorConfigMutable()->motorPwmRate`."
                },
                {
                    "name": "servoPwmRate",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `servoConfigMutable()->servoPwmRate`."
                },
                {
                    "name": "legacyGyroSync",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 9 bytes.",
        "description": "Sets advanced hardware-related configuration (PWM protocols, rates)."
    },
    "MSP_FILTER_CONFIG": {
        "code": 92,
        "hex": "0x5c",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 23,
            "struct": "<BHHHHHHHHHHH",
            "payload": [
                {
                    "name": "gyroMainLpfHz",
                    "ctype": "uint8_t",
                    "units": "Hz",
                    "desc": "Gyro main low-pass filter cutoff frequency (`gyroConfig()->gyro_main_lpf_hz`)."
                },
                {
                    "name": "dtermLpfHz",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "D-term low-pass filter cutoff frequency (`pidProfile()->dterm_lpf_hz`)."
                },
                {
                    "name": "yawLpfHz",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Yaw low-pass filter cutoff frequency (`pidProfile()->yaw_lpf_hz`)."
                },
                {
                    "name": "legacyGyroNotchHz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "legacyGyroNotchCutoff",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 1 (Legacy)."
                },
                {
                    "name": "bfCompatDtermNotchHz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (BF compatibility)."
                },
                {
                    "name": "bfCompatDtermNotchCutoff",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 1 (BF compatibility)."
                },
                {
                    "name": "bfCompatGyroNotch2Hz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (BF compatibility)."
                },
                {
                    "name": "bfCompatGyroNotch2Cutoff",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 1 (BF compatibility)."
                },
                {
                    "name": "accNotchHz",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Accelerometer notch filter center frequency (`accelerometerConfig()->acc_notch_hz`)."
                },
                {
                    "name": "accNotchCutoff",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Accelerometer notch filter cutoff frequency (`accelerometerConfig()->acc_notch_cutoff`)."
                },
                {
                    "name": "legacyGyroStage2LpfHz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves filter configuration settings (Gyro, D-term, Yaw, Accel). Some fields are BF compatibility placeholders or legacy."
    },
    "MSP_SET_FILTER_CONFIG": {
        "code": 93,
        "hex": "0x5d",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 23,
            "struct": "<BHHHHHHHHHHH",
            "payload": [
                {
                    "name": "gyroMainLpfHz",
                    "ctype": "uint8_t",
                    "units": "Hz",
                    "desc": "Sets `gyroConfigMutable()->gyro_main_lpf_hz`. (Size >= 5)"
                },
                {
                    "name": "dtermLpfHz",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Sets `pidProfileMutable()->dterm_lpf_hz` (constrained 0-500). (Size >= 5)"
                },
                {
                    "name": "yawLpfHz",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Sets `pidProfileMutable()->yaw_lpf_hz` (constrained 0-255). (Size >= 5)"
                },
                {
                    "name": "legacyGyroNotchHz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 9)"
                },
                {
                    "name": "legacyGyroNotchCutoff",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 9)"
                },
                {
                    "name": "bfCompatDtermNotchHz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 13)"
                },
                {
                    "name": "bfCompatDtermNotchCutoff",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 13)"
                },
                {
                    "name": "bfCompatGyroNotch2Hz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 17)"
                },
                {
                    "name": "bfCompatGyroNotch2Cutoff",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 17)"
                },
                {
                    "name": "accNotchHz",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Sets `accelerometerConfigMutable()->acc_notch_hz` (constrained 0-255). (Size >= 21)"
                },
                {
                    "name": "accNotchCutoff",
                    "ctype": "uint16_t",
                    "units": "Hz",
                    "desc": "Sets `accelerometerConfigMutable()->acc_notch_cutoff` (constrained 1-255). (Size >= 21)"
                },
                {
                    "name": "legacyGyroStage2LpfHz",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored. (Size >= 22)"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires specific payload sizes (5, 9, 13, 17, 21, or 22 bytes) to be accepted. Calls `pidInitFilters()` if size >= 13.",
        "description": "Sets filter configuration settings. Handles different payload lengths for backward compatibility."
    },
    "MSP_PID_ADVANCED": {
        "code": 94,
        "hex": "0x5e",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 17,
            "struct": "<HHHBBBBHBHH",
            "payload": [
                {
                    "name": "legacyRollPitchItermIgnore",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "legacyYawItermIgnore",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "legacyYawPLimit",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "bfCompatDeltaMethod",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (BF compatibility)."
                },
                {
                    "name": "bfCompatVbatPidComp",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (BF compatibility)."
                },
                {
                    "name": "bfCompatSetpointRelaxRatio",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (BF compatibility)."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0."
                },
                {
                    "name": "legacyPidSumLimit",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "bfCompatItermThrottleGain",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (BF compatibility)."
                },
                {
                    "name": "accelLimitRollPitch",
                    "ctype": "uint16_t",
                    "units": "dps / 10",
                    "desc": "Axis acceleration limit for Roll/Pitch / 10 (`pidProfile()->axisAccelerationLimitRollPitch / 10`)."
                },
                {
                    "name": "accelLimitYaw",
                    "ctype": "uint16_t",
                    "units": "dps / 10",
                    "desc": "Axis acceleration limit for Yaw / 10 (`pidProfile()->axisAccelerationLimitYaw / 10`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Acceleration limits are scaled by 10 for compatibility.",
        "description": "Retrieves advanced PID tuning parameters. Many fields are BF compatibility placeholders."
    },
    "MSP_SET_PID_ADVANCED": {
        "code": 95,
        "hex": "0x5f",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 17,
            "struct": "<HHHBBBBHBHH",
            "payload": [
                {
                    "name": "legacyRollPitchItermIgnore",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyYawItermIgnore",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyYawPLimit",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatDeltaMethod",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatVbatPidComp",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatSetpointRelaxRatio",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyPidSumLimit",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "bfCompatItermThrottleGain",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "accelLimitRollPitch",
                    "ctype": "uint16_t",
                    "units": "dps / 10",
                    "desc": "Sets `pidProfileMutable()->axisAccelerationLimitRollPitch = value * 10`."
                },
                {
                    "name": "accelLimitYaw",
                    "ctype": "uint16_t",
                    "units": "dps / 10",
                    "desc": "Sets `pidProfileMutable()->axisAccelerationLimitYaw = value * 10`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 17 bytes.",
        "description": "Sets advanced PID tuning parameters."
    },
    "MSP_SENSOR_CONFIG": {
        "code": 96,
        "hex": "0x60",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<BBBBBB",
            "payload": [
                {
                    "name": "accHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`accHardware_e`): Accelerometer hardware type (`accelerometerConfig()->acc_hardware`).",
                    "enum": "accHardware_e"
                },
                {
                    "name": "baroHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`baroHardware_e`): Barometer hardware type (`barometerConfig()->baro_hardware`). 0 if `USE_BARO` disabled.",
                    "enum": "baroHardware_e"
                },
                {
                    "name": "magHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`magHardware_e`): Magnetometer hardware type (`compassConfig()->mag_hardware`). 0 if `USE_MAG` disabled.",
                    "enum": "magHardware_e"
                },
                {
                    "name": "pitotHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`pitotHardware_e`): Pitot tube hardware type (`pitotmeterConfig()->pitot_hardware`). 0 if `USE_PITOT` disabled.",
                    "enum": "pitotHardware_e"
                },
                {
                    "name": "rangefinderHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`rangefinderHardware_e`): Rangefinder hardware type (`rangefinderConfig()->rangefinder_hardware`). 0 if `USE_RANGEFINDER` disabled.",
                    "enum": "rangefinderHardware_e"
                },
                {
                    "name": "opflowHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`opticalFlowHardware_e`): Optical flow hardware type (`opticalFlowConfig()->opflow_hardware`). 0 if `USE_OPFLOW` disabled.",
                    "enum": "opticalFlowHardware_e"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves the configured hardware type for various sensors."
    },
    "MSP_SET_SENSOR_CONFIG": {
        "code": 97,
        "hex": "0x61",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 6,
            "struct": "<BBBBBB",
            "payload": [
                {
                    "name": "accHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `accelerometerConfigMutable()->acc_hardware`."
                },
                {
                    "name": "baroHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `barometerConfigMutable()->baro_hardware` (if `USE_BARO`)."
                },
                {
                    "name": "magHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `compassConfigMutable()->mag_hardware` (if `USE_MAG`)."
                },
                {
                    "name": "pitotHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `pitotmeterConfigMutable()->pitot_hardware` (if `USE_PITOT`)."
                },
                {
                    "name": "rangefinderHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `rangefinderConfigMutable()->rangefinder_hardware` (if `USE_RANGEFINDER`)."
                },
                {
                    "name": "opflowHardware",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `opticalFlowConfigMutable()->opflow_hardware` (if `USE_OPFLOW`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 6 bytes.",
        "description": "Sets the configured hardware type for various sensors."
    },
    "MSP_SPECIAL_PARAMETERS": {
        "code": 98,
        "hex": "0x62",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Betaflight specific, likely unused/unimplemented in INAV."
    },
    "MSP_SET_SPECIAL_PARAMETERS": {
        "code": 99,
        "hex": "0x63",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Betaflight specific, likely unused/unimplemented in INAV."
    },
    "MSP_IDENT": {
        "code": 100,
        "hex": "0x64",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 7,
            "struct": "<BBBI",
            "payload": [
                {
                    "name": "MultiWii version",
                    "ctype": "uint8_t",
                    "units": "n/a",
                    "desc": "Scaled version major*100+minor"
                },
                {
                    "name": "Mixer Mode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Mixer type",
                    "enum": "?_e"
                },
                {
                    "name": "MSP Version",
                    "ctype": "uint8_t",
                    "units": "n/a",
                    "desc": "Scaled version major*100+minor"
                },
                {
                    "name": "Platform Capability",
                    "ctype": "uint32_t",
                    "units": "Bitmask of MW capabilities",
                    "desc": ""
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Obsolete. Listed for legacy compatibility only.",
        "description": "Provides basic flight controller identity information. Not implemented in modern INAV, but used by legacy versions and MultiWii."
    },
    "MSP_STATUS": {
        "code": 101,
        "hex": "0x65",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 11,
            "struct": "<HHHIB",
            "payload": [
                {
                    "name": "cycleTime",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Main loop cycle time (`cycleTime`)."
                },
                {
                    "name": "i2cErrors",
                    "ctype": "uint16_t",
                    "units": "Count",
                    "desc": "Number of I2C errors encountered (`i2cGetErrorCounter()`). 0 if `USE_I2C` not defined."
                },
                {
                    "name": "sensorStatus",
                    "ctype": "uint16_t",
                    "units": "Bitmask",
                    "desc": "Bitmask indicating available/active sensors (`packSensorStatus()`). See notes."
                },
                {
                    "name": "activeModesLow",
                    "ctype": "uint32_t",
                    "units": "Bitmask",
                    "desc": "First 32 bits of the active flight modes bitmask (`packBoxModeFlags()`)."
                },
                {
                    "name": "profile",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Current configuration profile index (0-based) (`getConfigProfile()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP_STATUS_EX` and `MSP2_INAV_STATUS`. `sensorStatus` bitmask: (Bit 0: ACC, 1: BARO, 2: MAG, 3: GPS, 4: RANGEFINDER, 5: GYRO). `activeModesLow` only contains the first 32 modes; use `MSP_ACTIVEBOXES` for the full set.",
        "description": "Provides basic flight controller status including cycle time, errors, sensor status, active modes (first 32), and the current configuration profile."
    },
    "MSP_RAW_IMU": {
        "code": 102,
        "hex": "0x66",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 18,
            "struct": "<hhhhhhhhh",
            "payload": [
                {
                    "name": "accX",
                    "ctype": "int16_t",
                    "units": "~1/512 G",
                    "desc": "Raw accelerometer X reading, scaled (`acc.accADCf[X] * 512`)."
                },
                {
                    "name": "accY",
                    "ctype": "int16_t",
                    "units": "~1/512 G",
                    "desc": "Raw accelerometer Y reading, scaled (`acc.accADCf[Y] * 512`)."
                },
                {
                    "name": "accZ",
                    "ctype": "int16_t",
                    "units": "~1/512 G",
                    "desc": "Raw accelerometer Z reading, scaled (`acc.accADCf[Z] * 512`)."
                },
                {
                    "name": "gyroX",
                    "ctype": "int16_t",
                    "units": "deg/s",
                    "desc": "Gyroscope X-axis rate (`gyroRateDps(X)`)."
                },
                {
                    "name": "gyroY",
                    "ctype": "int16_t",
                    "units": "deg/s",
                    "desc": "Gyroscope Y-axis rate (`gyroRateDps(Y)`)."
                },
                {
                    "name": "gyroZ",
                    "ctype": "int16_t",
                    "units": "deg/s",
                    "desc": "Gyroscope Z-axis rate (`gyroRateDps(Z)`)."
                },
                {
                    "name": "magX",
                    "ctype": "int16_t",
                    "units": "Raw units",
                    "desc": "Raw magnetometer X reading (`mag.magADC[X]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "magY",
                    "ctype": "int16_t",
                    "units": "Raw units",
                    "desc": "Raw magnetometer Y reading (`mag.magADC[Y]`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "magZ",
                    "ctype": "int16_t",
                    "units": "Raw units",
                    "desc": "Raw magnetometer Z reading (`mag.magADC[Z]`). 0 if `USE_MAG` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Acc scaling is approximate (512 LSB/G). Mag units depend on the sensor.",
        "description": "Provides raw sensor readings from the IMU (Accelerometer, Gyroscope, Magnetometer)."
    },
    "MSP_SERVO": {
        "code": 103,
        "hex": "0x67",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<hhhhhhhhhhhhhhhhhh",
            "payload": [
                {
                    "name": "servoOutputs",
                    "ctype": "int16_t[MAX_SUPPORTED_SERVOS]",
                    "units": "PWM",
                    "desc": "Array of current servo output values (typically 1000-2000).",
                    "array": true,
                    "array_ctype": "int16_t",
                    "array_size": "MAX_SUPPORTED_SERVOS"
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Provides the current output values for all supported servos."
    },
    "MSP_MOTOR": {
        "code": 104,
        "hex": "0x68",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<HHHHHHHH",
            "payload": [
                {
                    "name": "motorOutputs",
                    "ctype": "uint16_t[8]",
                    "units": "PWM",
                    "desc": "Array of current motor output values (typically 1000-2000). Values beyond `MAX_SUPPORTED_MOTORS` are 0.",
                    "array": true,
                    "array_ctype": "uint16_t",
                    "array_size": 8
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Provides the current output values for the first 8 motors."
    },
    "MSP_RC": {
        "code": 105,
        "hex": "0x69",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<HHHHHHHH",
            "payload": [
                {
                    "name": "rcChannels",
                    "ctype": "uint16_t[]",
                    "units": "PWM",
                    "desc": "Array of current RC channel values (typically 1000-2000). Length depends on detected channels.",
                    "array": true,
                    "array_ctype": "uint16_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Provides the current values of the received RC channels."
    },
    "MSP_RAW_GPS": {
        "code": 106,
        "hex": "0x6a",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 18,
            "struct": "<BBiihHHH",
            "payload": [
                {
                    "name": "fixType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS fix type (`gpsSol.fixType`).",
                    "enum": "?_e"
                },
                {
                    "name": "numSat",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Number of satellites used in solution (`gpsSol.numSat`)."
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Latitude (`gpsSol.llh.lat`)."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Longitude (`gpsSol.llh.lon`)."
                },
                {
                    "name": "altitude",
                    "ctype": "int16_t",
                    "units": "meters",
                    "desc": "Altitude above MSL (`gpsSol.llh.alt / 100`)."
                },
                {
                    "name": "speed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Ground speed (`gpsSol.groundSpeed`)."
                },
                {
                    "name": "groundCourse",
                    "ctype": "uint16_t",
                    "units": "deci-degrees",
                    "desc": "Ground course (`gpsSol.groundCourse`)."
                },
                {
                    "name": "hdop",
                    "ctype": "uint16_t",
                    "units": "HDOP * 100",
                    "desc": "Horizontal Dilution of Precision (`gpsSol.hdop`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Only available if `USE_GPS` is defined. Altitude is truncated to meters.",
        "description": "Provides raw GPS data (fix status, coordinates, altitude, speed, course)."
    },
    "MSP_COMP_GPS": {
        "code": 107,
        "hex": "0x6b",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 5,
            "struct": "<HHB",
            "payload": [
                {
                    "name": "distanceToHome",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Distance to the home point (`GPS_distanceToHome`)."
                },
                {
                    "name": "directionToHome",
                    "ctype": "uint16_t",
                    "units": "degrees",
                    "desc": "Direction to the home point (0-360) (`GPS_directionToHome`)."
                },
                {
                    "name": "gpsHeartbeat",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Indicates if GPS data is being received (`gpsSol.flags.gpsHeartbeat`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Only available if `USE_GPS` is defined.",
        "description": "Provides computed GPS values: distance and direction to home."
    },
    "MSP_ATTITUDE": {
        "code": 108,
        "hex": "0x6c",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<hhh",
            "payload": [
                {
                    "name": "roll",
                    "ctype": "int16_t",
                    "units": "deci-degrees",
                    "desc": "Roll angle (`attitude.values.roll`)."
                },
                {
                    "name": "pitch",
                    "ctype": "int16_t",
                    "units": "deci-degrees",
                    "desc": "Pitch angle (`attitude.values.pitch`)."
                },
                {
                    "name": "yaw",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Yaw/Heading angle (`DECIDEGREES_TO_DEGREES(attitude.values.yaw)`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Yaw is converted from deci-degrees to degrees.",
        "description": "Provides the current attitude estimate (roll, pitch, yaw)."
    },
    "MSP_ALTITUDE": {
        "code": 109,
        "hex": "0x6d",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 10,
            "struct": "<ihi",
            "payload": [
                {
                    "name": "estimatedAltitude",
                    "ctype": "int32_t",
                    "units": "cm",
                    "desc": "Estimated altitude above home/sea level (`getEstimatedActualPosition(Z)`)."
                },
                {
                    "name": "variometer",
                    "ctype": "int16_t",
                    "units": "cm/s",
                    "desc": "Estimated vertical speed (`getEstimatedActualVelocity(Z)`)."
                },
                {
                    "name": "baroAltitude",
                    "ctype": "int32_t",
                    "units": "cm",
                    "desc": "Latest raw altitude from barometer (`baroGetLatestAltitude()`). 0 if `USE_BARO` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Provides estimated altitude, vertical speed (variometer), and raw barometric altitude."
    },
    "MSP_ANALOG": {
        "code": 110,
        "hex": "0x6e",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 7,
            "struct": "<BHHh",
            "payload": [
                {
                    "name": "vbat",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Battery voltage, scaled (`getBatteryVoltage() / 10`), constrained 0-255."
                },
                {
                    "name": "mAhDrawn",
                    "ctype": "uint16_t",
                    "units": "mAh",
                    "desc": "Consumed battery capacity (`getMAhDrawn()`), constrained 0-65535."
                },
                {
                    "name": "rssi",
                    "ctype": "uint16_t",
                    "units": "0-1023 or %",
                    "desc": "Received Signal Strength Indicator (`getRSSI()`). Units depend on source."
                },
                {
                    "name": "amperage",
                    "ctype": "int16_t",
                    "units": "0.01A",
                    "desc": "Current draw (`getAmperage()`), constrained -32768 to 32767."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_ANALOG` which provides higher precision and more fields.",
        "description": "Provides analog sensor readings: battery voltage, current consumption (mAh), RSSI, and current draw (Amps)."
    },
    "MSP_RC_TUNING": {
        "code": 111,
        "hex": "0x6f",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 11,
            "struct": "<BBBBBBBBHB",
            "payload": [
                {
                    "name": "legacyRcRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 100 (Legacy, unused)."
                },
                {
                    "name": "rcExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Roll/Pitch RC Expo (`currentControlRateProfile->stabilized.rcExpo8`)."
                },
                {
                    "name": "rollRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Roll Rate (`currentControlRateProfile->stabilized.rates[FD_ROLL]`)."
                },
                {
                    "name": "pitchRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Pitch Rate (`currentControlRateProfile->stabilized.rates[FD_PITCH]`)."
                },
                {
                    "name": "yawRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Yaw Rate (`currentControlRateProfile->stabilized.rates[FD_YAW]`)."
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Dynamic Throttle PID (TPA) value (`currentControlRateProfile->throttle.dynPID`)."
                },
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Throttle Midpoint (`currentControlRateProfile->throttle.rcMid8`)."
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Throttle Expo (`currentControlRateProfile->throttle.rcExpo8`)."
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Throttle PID Attenuation (TPA) breakpoint (`currentControlRateProfile->throttle.pa_breakpoint`)."
                },
                {
                    "name": "rcYawExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Yaw RC Expo (`currentControlRateProfile->stabilized.rcYawExpo8`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_RATE_PROFILE` which includes manual rates/expos.",
        "description": "Retrieves RC tuning parameters (rates, expos, TPA) for the current control rate profile."
    },
    "MSP_ACTIVEBOXES": {
        "code": 113,
        "hex": "0x71",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<",
            "payload": [
                {
                    "name": "activeModes",
                    "ctype": "boxBitmask_t",
                    "units": "",
                    "desc": "Bitmask of all active modes (`packBoxModeFlags()`). Size depends on `boxBitmask_t` definition."
                }
            ]
        },
        "variable_len": false,
        "complex": true,
        "notes": "Use this instead of `MSP_STATUS` or `MSP_STATUS_EX` if more than 32 modes are possible.",
        "description": "Provides the full bitmask of currently active flight modes (boxes)."
    },
    "MSP_MISC": {
        "code": 114,
        "hex": "0x72",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 22,
            "struct": "<HHHHHBBBBBBHBBBB",
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Mid RC value (`PWM_RANGE_MIDDLE`, typically 1500)."
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Maximum throttle command (`getMaxThrottle()`)."
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Minimum motor command when disarmed (`motorConfig()->mincommand`)."
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Failsafe throttle level (`currentBatteryProfile->failsafe_throttle`)."
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS provider type (`gpsConfig()->provider`). 0 if `USE_GPS` disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS SBAS mode (`gpsConfig()->sbasMode`). 0 if `USE_GPS` disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "legacyMwCurrentOut",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "RSSI channel index (1-based) (`rxConfig()->rssi_channel`)."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0."
                },
                {
                    "name": "magDeclination",
                    "ctype": "uint16_t",
                    "units": "0.1 degrees",
                    "desc": "Magnetic declination / 10 (`compassConfig()->mag_declination / 10`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "units": "Scale / 10",
                    "desc": "Voltage scale / 10 (`batteryMetersConfig()->voltage.scale / 10`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Min cell voltage / 10 (`currentBatteryProfile->voltage.cellMin / 10`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Max cell voltage / 10 (`currentBatteryProfile->voltage.cellMax / 10`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Warning cell voltage / 10 (`currentBatteryProfile->voltage.cellWarning / 10`). 0 if `USE_ADC` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_MISC` and other specific commands which offer better precision and more fields.",
        "description": "Retrieves miscellaneous configuration settings, mostly related to RC, GPS, Mag, and Battery voltage (legacy formats)."
    },
    "MSP_BOXNAMES": {
        "code": 116,
        "hex": "0x74",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "boxNamesString",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "String containing mode names separated by ';'. Null termination not guaranteed by MSP, relies on payload size. (`serializeBoxNamesReply()`).",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "The exact set of names depends on compiled features and configuration. Due to the size of the payload, it is recommended that [`MSP_BOXIDS`](#msp_boxids-119--0x77) is used instead.",
        "description": "Provides a semicolon-separated string containing the names of all available flight modes (boxes)."
    },
    "MSP_PIDNAMES": {
        "code": 117,
        "hex": "0x75",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "pidNamesString",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "String \"ROLL;PITCH;YAW;ALT;Pos;PosR;NavR;LEVEL;MAG;VEL;\". Null termination not guaranteed by MSP.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Provides a semicolon-separated string containing the names of the PID controllers."
    },
    "MSP_WP": {
        "code": 118,
        "hex": "0x76",
        "mspv": 1,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "waypointIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the waypoint to retrieve (0 to `NAV_MAX_WAYPOINTS - 1`)."
                }
            ]
        },
        "reply": {
            "size": 22,
            "struct": "<BBiiiHHHB",
            "payload": [
                {
                    "name": "waypointIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the returned waypoint."
                },
                {
                    "name": "action",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Waypoint action type (`navWaypointAction_e`).",
                    "enum": "?_e"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Latitude coordinate."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Longitude coordinate."
                },
                {
                    "name": "altitude",
                    "ctype": "int32_t",
                    "units": "cm",
                    "desc": "Altitude coordinate (relative to home or sea level, see flag)."
                },
                {
                    "name": "param1",
                    "ctype": "uint16_t",
                    "units": "Varies",
                    "desc": "Parameter 1 (meaning depends on action)."
                },
                {
                    "name": "param2",
                    "ctype": "uint16_t",
                    "units": "Varies",
                    "desc": "Parameter 2 (meaning depends on action)."
                },
                {
                    "name": "param3",
                    "ctype": "uint16_t",
                    "units": "Varies",
                    "desc": "Parameter 3 (meaning depends on action)."
                },
                {
                    "name": "flag",
                    "ctype": "uint8_t",
                    "units": "Bitmask",
                    "desc": "Waypoint flags (`NAV_WP_FLAG_*`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "See `navWaypoint_t` and `navWaypointAction_e`.",
        "description": "Get/Set a single waypoint from the mission plan."
    },
    "MSP_BOXIDS": {
        "code": 119,
        "hex": "0x77",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "boxIds",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Array of permanent IDs for each configured box (`serializeBoxReply()`). Length depends on number of boxes.",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Useful for mapping mode range configurations (`MSP_MODE_RANGES`) back to user-understandable modes via `MSP_BOXNAMES`.",
        "description": "Provides a list of permanent IDs associated with the available flight modes (boxes)."
    },
    "MSP_SERVO_CONFIGURATIONS": {
        "code": 120,
        "hex": "0x78",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 14,
            "struct": "<HHHBBBBI",
            "payload": [
                {
                    "name": "min",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Minimum servo endpoint (`servoParams(i)->min`)."
                },
                {
                    "name": "max",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Maximum servo endpoint (`servoParams(i)->max`)."
                },
                {
                    "name": "middle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Middle/Neutral servo position (`servoParams(i)->middle`)."
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "units": "% (-100 to 100)",
                    "desc": "Servo rate/scaling (`servoParams(i)->rate`)."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0."
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0."
                },
                {
                    "name": "legacyForwardChan",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 255 (Legacy)."
                },
                {
                    "name": "legacyReversedSources",
                    "ctype": "uint32_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                }
            ],
            "repeating": "MAX_SUPPORTED_SERVOS"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_SERVO_CONFIG` which has a cleaner structure.",
        "description": "Retrieves the configuration parameters for all supported servos (min, max, middle, rate). Legacy format with unused fields."
    },
    "MSP_NAV_STATUS": {
        "code": 121,
        "hex": "0x79",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 7,
            "struct": "<BBBBBh",
            "payload": [
                {
                    "name": "navMode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`NAV_MODE_*`): Current navigation mode (None, RTH, WP, Hold, etc.) (`NAV_Status.mode`).",
                    "enum": "NAV_MODE_*"
                },
                {
                    "name": "navState",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`NAV_STATE_*`): Current navigation state (`NAV_Status.state`).",
                    "enum": "NAV_STATE_*"
                },
                {
                    "name": "activeWpAction",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`navWaypointAction_e`): Action of the currently executing waypoint (`NAV_Status.activeWpAction`).",
                    "enum": "navWaypointAction_e"
                },
                {
                    "name": "activeWpNumber",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index: Index of the currently executing waypoint (`NAV_Status.activeWpNumber`)."
                },
                {
                    "name": "navError",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`NAV_ERROR_*`): Current navigation error code (`NAV_Status.error`).",
                    "enum": "NAV_ERROR_*"
                },
                {
                    "name": "targetHeading",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "degrees: Target heading for heading controller (`getHeadingHoldTarget()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_GPS`.",
        "description": "Retrieves the current status of the navigation system."
    },
    "MSP_NAV_CONFIG": {
        "hex": "0x7a",
        "code": 122,
        "mspv": 1,
        "implemented": false
    },
    "MSP_3D": {
        "code": 124,
        "hex": "0x7c",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<HHH",
            "payload": [
                {
                    "name": "deadbandLow",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Lower deadband limit for 3D mode (`reversibleMotorsConfig()->deadband_low`)."
                },
                {
                    "name": "deadbandHigh",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Upper deadband limit for 3D mode (`reversibleMotorsConfig()->deadband_high`)."
                },
                {
                    "name": "neutral",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Neutral throttle point for 3D mode (`reversibleMotorsConfig()->neutral`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires reversible motor support.",
        "description": "Retrieves settings related to 3D/reversible motor operation."
    },
    "MSP_RC_DEADBAND": {
        "code": 125,
        "hex": "0x7d",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 5,
            "struct": "<BBBH",
            "payload": [
                {
                    "name": "deadband",
                    "ctype": "uint8_t",
                    "units": "PWM",
                    "desc": "General RC deadband for Roll/Pitch (`rcControlsConfig()->deadband`)."
                },
                {
                    "name": "yawDeadband",
                    "ctype": "uint8_t",
                    "units": "PWM",
                    "desc": "Specific deadband for Yaw (`rcControlsConfig()->yaw_deadband`)."
                },
                {
                    "name": "altHoldDeadband",
                    "ctype": "uint8_t",
                    "units": "PWM",
                    "desc": "Deadband for altitude hold adjustments (`rcControlsConfig()->alt_hold_deadband`)."
                },
                {
                    "name": "throttleDeadband",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Deadband around throttle mid-stick (`rcControlsConfig()->mid_throttle_deadband`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves RC input deadband settings."
    },
    "MSP_SENSOR_ALIGNMENT": {
        "code": 126,
        "hex": "0x7e",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "gyroAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0 (Legacy alignment enum).",
                    "enum": "?_e"
                },
                {
                    "name": "accAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0 (Legacy alignment enum).",
                    "enum": "?_e"
                },
                {
                    "name": "magAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Magnetometer alignment (`compassConfig()->mag_align`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "opflowAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Optical flow alignment (`opticalFlowConfig()->opflow_align`). 0 if `USE_OPFLOW` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Board alignment is now typically handled by `MSP_BOARD_ALIGNMENT`. This returns legacy enum values where applicable.",
        "description": "Retrieves sensor alignment settings (legacy format)."
    },
    "MSP_LED_STRIP_MODECOLOR": {
        "code": 127,
        "hex": "0x7f",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 3,
            "struct": "<BBB",
            "payload": [
                {
                    "name": "modeIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the LED mode (`ledModeIndex_e`). `LED_MODE_COUNT` for special colors."
                },
                {
                    "name": "directionOrSpecialIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the direction (`ledDirection_e`) or special color (`ledSpecialColor_e`)."
                },
                {
                    "name": "colorIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the color assigned from `ledStripConfig()->colors`."
                }
            ],
            "repeating": "LED_MODE_COUNT * LED_DIRECTION_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Only available if `USE_LED_STRIP` is defined. Allows mapping modes/directions/specials to configured colors.",
        "description": "Retrieves the color index assigned to each LED mode and function/direction combination, including special colors."
    },
    "MSP_BATTERY_STATE": {
        "code": 130,
        "hex": "0x82",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 11,
            "struct": "<BHBHhBH",
            "payload": [
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Number of battery cells (`getBatteryCellCount()`)."
                },
                {
                    "name": "capacity",
                    "ctype": "uint16_t",
                    "units": "mAh",
                    "desc": "Battery capacity (`currentBatteryProfile->capacity.value`)."
                },
                {
                    "name": "vbatScaled",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Battery voltage / 10 (`getBatteryVoltage() / 10`)."
                },
                {
                    "name": "mAhDrawn",
                    "ctype": "uint16_t",
                    "units": "mAh",
                    "desc": "Consumed capacity (`getMAhDrawn()`)."
                },
                {
                    "name": "amperage",
                    "ctype": "int16_t",
                    "units": "0.01A",
                    "desc": "Current draw (`getAmperage()`)."
                },
                {
                    "name": "batteryState",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Current battery state (`getBatteryState()`, see `BATTERY_STATE_*`).",
                    "enum": "?_e"
                },
                {
                    "name": "vbatActual",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Actual battery voltage (`getBatteryVoltage()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Only available if `USE_DJI_HD_OSD` or `USE_MSP_DISPLAYPORT` is defined. Some values are duplicated from `MSP_ANALOG` / `MSP2_INAV_ANALOG` but potentially with different scaling/types.",
        "description": "Provides battery state information, formatted primarily for DJI FPV Goggles compatibility."
    },
    "MSP_VTXTABLE_BAND": {
        "code": 137,
        "hex": "0x89",
        "mspv": 1,
        "direction": 2,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "The ID is defined, but no handler exists in the provided C code. Likely intended to query band names and frequencies.",
        "description": "Retrieves information about a specific VTX band from the VTX table. (Implementation missing in provided `fc_msp.c`)"
    },
    "MSP_VTXTABLE_POWERLEVEL": {
        "code": 138,
        "hex": "0x8a",
        "mspv": 1,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "powerLevelIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "1-based index of the power level to query."
                }
            ]
        },
        "reply": {
            "size": 6,
            "struct": "<BHBs",
            "payload": [
                {
                    "name": "powerLevelIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "1-based index of the returned power level."
                },
                {
                    "name": "powerValue",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Always 0 (Actual power value in mW is not stored/returned via MSP)."
                },
                {
                    "name": "labelLength",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Length of the power level label string that follows."
                },
                {
                    "name": "label",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "Power level label string (e.g., \"25\", \"200\"). Length given by previous field.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_VTX_CONTROL`. Returns error if index is out of bounds. The `powerValue` field is unused.",
        "description": "Retrieves information about a specific VTX power level from the VTX table."
    },
    "MSP_SET_RAW_RC": {
        "code": 200,
        "hex": "0xc8",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "rcChannels",
                    "ctype": "uint16_t[]",
                    "units": "PWM",
                    "desc": "Array of RC channel values (typically 1000-2000). Number of channels determined by payload size.",
                    "array": true,
                    "array_ctype": "uint16_t",
                    "array_size": 0
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_RX_MSP`. Maximum channels `MAX_SUPPORTED_RC_CHANNEL_COUNT`. Calls `rxMspFrameReceive()`.",
        "description": "Provides raw RC channel data to the flight controller, typically used when the receiver is connected via MSP (e.g., MSP RX feature)."
    },
    "MSP_SET_RAW_GPS": {
        "code": 201,
        "hex": "0xc9",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 16,
            "struct": "<BBiihHH",
            "payload": [
                {
                    "name": "fixType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS fix type.",
                    "enum": "?_e"
                },
                {
                    "name": "numSat",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Number of satellites."
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Latitude."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Longitude."
                },
                {
                    "name": "altitude",
                    "ctype": "int16_t",
                    "units": "meters",
                    "desc": "Altitude (converted to cm internally)."
                },
                {
                    "name": "speed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Ground speed."
                },
                {
                    "name": "groundCourse",
                    "ctype": "uint16_t",
                    "units": "???",
                    "desc": "Ground course (units unclear from code, likely degrees or deci-degrees, ignored in current code)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_GPS`. Expects 14 bytes. Updates `gpsSol` structure and calls `onNewGPSData()`. Note the altitude unit mismatch (meters in MSP, cm internal). Does not provide velocity components.",
        "description": "Provides raw GPS data to the flight controller, typically for simulation or external GPS injection."
    },
    "MSP_SET_BOX": {
        "code": 203,
        "hex": "0xcb",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`. Mode changes are typically handled via RC channels (`MSP_MODE_RANGES`).",
        "description": "Sets the state of flight modes (boxes). (Likely unused/obsolete in INAV)."
    },
    "MSP_SET_RC_TUNING": {
        "code": 204,
        "hex": "0xcc",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 11,
            "struct": "<BBBBBBBBHB",
            "payload": [
                {
                    "name": "legacyRcRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "rcExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->stabilized.rcExpo8`."
                },
                {
                    "name": "rollRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_ROLL]` (constrained)."
                },
                {
                    "name": "pitchRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_PITCH]` (constrained)."
                },
                {
                    "name": "yawRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_YAW]` (constrained)."
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->throttle.dynPID` (constrained)."
                },
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->throttle.rcMid8`."
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->throttle.rcExpo8`."
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile->throttle.pa_breakpoint`."
                },
                {
                    "name": "rcYawExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(Optional) Sets `currentControlRateProfile->stabilized.rcYawExpo8`.",
                    "optional": true
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 10 or 11 bytes. Calls `schedulePidGainsUpdate()`. Superseded by `MSP2_INAV_SET_RATE_PROFILE`.",
        "description": "Sets RC tuning parameters (rates, expos, TPA) for the current control rate profile."
    },
    "MSP_ACC_CALIBRATION": {
        "code": 205,
        "hex": "0xcd",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Will fail if armed. Calls `accStartCalibration()`.",
        "description": "Starts the accelerometer calibration procedure."
    },
    "MSP_MAG_CALIBRATION": {
        "code": 206,
        "hex": "0xce",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Will fail if armed. Enables the `CALIBRATE_MAG` state flag.",
        "description": "Starts the magnetometer calibration procedure."
    },
    "MSP_SET_MISC": {
        "code": 207,
        "hex": "0xcf",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 22,
            "struct": "<HHHHHBBBBBBHBBBB",
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyMaxThrottle",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `motorConfigMutable()->mincommand` (constrained 0-PWM_RANGE_MAX)."
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->failsafe_throttle` (constrained PWM_RANGE_MIN/MAX)."
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "gpsProvider_e` (Sets `gpsConfigMutable()->provider`)",
                    "enum": "?_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "sbasMode_e` (Sets `gpsConfigMutable()->sbasMode`)",
                    "enum": "?_e"
                },
                {
                    "name": "legacyMwCurrentOut",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Sets `rxConfigMutable()->rssi_channel` (constrained 0-MAX_SUPPORTED_RC_CHANNEL_COUNT). Updates source."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "magDeclination",
                    "ctype": "uint16_t",
                    "units": "0.1 degrees",
                    "desc": "Sets `compassConfigMutable()->mag_declination = value * 10` (if `USE_MAG`)."
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "units": "Scale / 10",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale = value * 10` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin = value * 10` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax = value * 10` (if `USE_ADC`)."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "units": "0.1V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning = value * 10` (if `USE_ADC`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 22 bytes. Superseded by `MSP2_INAV_SET_MISC`.",
        "description": "Sets miscellaneous configuration settings (legacy formats/scaling)."
    },
    "MSP_RESET_CONF": {
        "code": 208,
        "hex": "0xd0",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Will fail if armed. Suspends RX, calls `resetEEPROM()`, `writeEEPROM()`, `readEEPROM()`, resumes RX. Use with caution!",
        "description": "Resets all configuration settings to their default values and saves to EEPROM."
    },
    "MSP_SET_WP": {
        "code": 209,
        "hex": "0xd1",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 21,
            "struct": "<BBiiiHHHB",
            "payload": [
                {
                    "name": "waypointIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the waypoint to set (0 to `NAV_MAX_WAYPOINTS - 1`)."
                },
                {
                    "name": "action",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Waypoint action type.",
                    "enum": "?_e"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Latitude coordinate."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Longitude coordinate."
                },
                {
                    "name": "altitude",
                    "ctype": "int32_t",
                    "units": "cm",
                    "desc": "Altitude coordinate."
                },
                {
                    "name": "param1",
                    "ctype": "uint16_t",
                    "units": "Varies",
                    "desc": "Parameter 1."
                },
                {
                    "name": "param2",
                    "ctype": "uint16_t",
                    "units": "Varies",
                    "desc": "Parameter 2."
                },
                {
                    "name": "param3",
                    "ctype": "uint16_t",
                    "units": "Varies",
                    "desc": "Parameter 3."
                },
                {
                    "name": "flag",
                    "ctype": "uint8_t",
                    "units": "Bitmask",
                    "desc": "Waypoint flags."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 21 bytes. Calls `setWaypoint()`. If `USE_FW_AUTOLAND` is enabled, this also interacts with autoland approach settings based on waypoint index and flags.",
        "description": "Sets a single waypoint in the mission plan."
    },
    "MSP_SELECT_SETTING": {
        "code": 210,
        "hex": "0xd2",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "profileIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the profile to activate (0-based)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Will fail if armed. Calls `setConfigProfileAndWriteEEPROM()`.",
        "description": "Selects the active configuration profile and saves it."
    },
    "MSP_SET_HEAD": {
        "code": 211,
        "hex": "0xd3",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 2,
            "struct": "<h",
            "payload": [
                {
                    "name": "heading",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Target heading (0-359)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 2 bytes. Calls `updateHeadingHoldTarget()`.",
        "description": "Sets the target heading for the heading hold controller (e.g., during MAG mode)."
    },
    "MSP_SET_SERVO_CONFIGURATION": {
        "code": 212,
        "hex": "0xd4",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BHHHBBBBI",
            "payload": [
                {
                    "name": "servoIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the servo to configure (0 to `MAX_SUPPORTED_SERVOS - 1`)."
                },
                {
                    "name": "min",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Minimum servo endpoint."
                },
                {
                    "name": "max",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Maximum servo endpoint."
                },
                {
                    "name": "middle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Middle/Neutral servo position."
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Servo rate/scaling."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyForwardChan",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyReversedSources",
                    "ctype": "uint32_t",
                    "units": "-",
                    "desc": "Ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 15 bytes. Returns error if index is invalid. Calls `servoComputeScalingFactors()`. Superseded by `MSP2_INAV_SET_SERVO_CONFIG`.",
        "description": "Sets the configuration for a single servo (legacy format)."
    },
    "MSP_SET_MOTOR": {
        "code": 214,
        "hex": "0xd6",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 0,
            "struct": "<HHHHHHHH",
            "payload": [
                {
                    "name": "motorValues",
                    "ctype": "uint16_t[8]",
                    "units": "PWM",
                    "desc": "Array of motor values to set when disarmed. Only affects first `MAX_SUPPORTED_MOTORS`.",
                    "array": true,
                    "array_ctype": "uint16_t",
                    "array_size": 8
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 16 bytes. Modifies the `motor_disarmed` array. These values are *not* saved persistently.",
        "description": "Sets the disarmed motor values, typically used for motor testing or propeller balancing functions in a configurator."
    },
    "MSP_SET_NAV_CONFIG": {
        "hex": "0xd7",
        "code": 215,
        "mspv": 1,
        "implemented": false
    },
    "MSP_SET_3D": {
        "code": 217,
        "hex": "0xd9",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 6,
            "struct": "<HHH",
            "payload": [
                {
                    "name": "deadbandLow",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `reversibleMotorsConfigMutable()->deadband_low`."
                },
                {
                    "name": "deadbandHigh",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `reversibleMotorsConfigMutable()->deadband_high`."
                },
                {
                    "name": "neutral",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `reversibleMotorsConfigMutable()->neutral`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 6 bytes. Requires reversible motor support.",
        "description": "Sets parameters related to 3D/reversible motor operation."
    },
    "MSP_SET_RC_DEADBAND": {
        "code": 218,
        "hex": "0xda",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 5,
            "struct": "<BBBH",
            "payload": [
                {
                    "name": "deadband",
                    "ctype": "uint8_t",
                    "units": "PWM",
                    "desc": "Sets `rcControlsConfigMutable()->deadband`."
                },
                {
                    "name": "yawDeadband",
                    "ctype": "uint8_t",
                    "units": "PWM",
                    "desc": "Sets `rcControlsConfigMutable()->yaw_deadband`."
                },
                {
                    "name": "altHoldDeadband",
                    "ctype": "uint8_t",
                    "units": "PWM",
                    "desc": "Sets `rcControlsConfigMutable()->alt_hold_deadband`."
                },
                {
                    "name": "throttleDeadband",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `rcControlsConfigMutable()->mid_throttle_deadband`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 5 bytes.",
        "description": "Sets RC input deadband values."
    },
    "MSP_SET_RESET_CURR_PID": {
        "code": 219,
        "hex": "0xdb",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Calls `PG_RESET_CURRENT(pidProfile)`. To save, follow with `MSP_EEPROM_WRITE`.",
        "description": "Resets the PIDs of the *current* profile to their default values. Does not save."
    },
    "MSP_SET_SENSOR_ALIGNMENT": {
        "code": 220,
        "hex": "0xdc",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "gyroAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "accAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "magAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `compassConfigMutable()->mag_align` (if `USE_MAG`)."
                },
                {
                    "name": "opflowAlign",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `opticalFlowConfigMutable()->opflow_align` (if `USE_OPFLOW`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 4 bytes. Use `MSP_SET_BOARD_ALIGNMENT` for primary board orientation.",
        "description": "Sets sensor alignment (legacy format)."
    },
    "MSP_SET_LED_STRIP_MODECOLOR": {
        "code": 221,
        "hex": "0xdd",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 3,
            "struct": "<BBB",
            "payload": [
                {
                    "name": "modeIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the LED mode (`ledModeIndex_e` or `LED_MODE_COUNT` for special)."
                },
                {
                    "name": "directionOrSpecialIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the direction or special color."
                },
                {
                    "name": "colorIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the color to assign from `ledStripConfig()->colors`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Only available if `USE_LED_STRIP` is defined. Expects 3 bytes. Returns error if setting fails (invalid index).",
        "description": "Sets the color index for a specific LED mode/function combination."
    },
    "MSP_SET_ACC_TRIM": {
        "code": 239,
        "hex": "0xef",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`. Use `MSP_ACC_CALIBRATION`.",
        "description": "Sets the accelerometer trim values (leveling calibration)."
    },
    "MSP_ACC_TRIM": {
        "code": 240,
        "hex": "0xf0",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`. Calibration data via `MSP_CALIBRATION_DATA`.",
        "description": "Gets the accelerometer trim values."
    },
    "MSP_SERVO_MIX_RULES": {
        "code": 241,
        "hex": "0xf1",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 8,
            "struct": "<BBHBBBB",
            "payload": [
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Servo output channel index (0-based)."
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Input source for the mix (RC chan, Roll, Pitch...). See `mixerSource_t`.",
                    "enum": "?_e"
                },
                {
                    "name": "rate",
                    "ctype": "uint16_t",
                    "units": "% * 100?",
                    "desc": "Mixing rate/weight. Needs scaling check."
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "units": "0-100",
                    "desc": "Speed/Slew rate limit."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0."
                },
                {
                    "name": "legacyMax",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 100 (Legacy)."
                },
                {
                    "name": "legacyBox",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                }
            ],
            "repeating": "MAX_SERVO_RULES"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_SERVO_MIXER`.",
        "description": "Retrieves the custom servo mixer rules (legacy format)."
    },
    "MSP_SET_SERVO_MIX_RULE": {
        "code": 242,
        "hex": "0xf2",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BBBHBHB",
            "payload": [
                {
                    "name": "ruleIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the rule to set (0 to `MAX_SERVO_RULES - 1`)."
                },
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Servo output channel index."
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Input source for the mix.",
                    "enum": "?_e"
                },
                {
                    "name": "rate",
                    "ctype": "uint16_t",
                    "units": "% * 100?",
                    "desc": "Mixing rate/weight."
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "units": "0-100",
                    "desc": "Speed/Slew rate limit."
                },
                {
                    "name": "legacyMinMax",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyBox",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 9 bytes. Returns error if index invalid. Calls `loadCustomServoMixer()`. Superseded by `MSP2_INAV_SET_SERVO_MIXER`.",
        "description": "Sets a single custom servo mixer rule (legacy format)."
    },
    "MSP_SET_PASSTHROUGH": {
        "code": 245,
        "hex": "0xf5",
        "mspv": 1,
        "direction": 2,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "status",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "1 if passthrough started successfully, 0 on error (e.g., port not found). For 4way, returns number of ESCs found."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "If successful, sets `mspPostProcessFn` to the appropriate handler (`mspSerialPassthroughFn` or `esc4wayProcess`). This handler takes over the serial port after the reply is sent. Requires `USE_SERIAL_4WAY_BLHELI_INTERFACE` for ESC passthrough.",
        "description": "Enables serial passthrough mode to peripherals like ESCs (BLHeli 4-way) or other serial devices."
    },
    "MSP_RTC": {
        "code": 246,
        "hex": "0xf6",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<iH",
            "payload": [
                {
                    "name": "seconds",
                    "ctype": "int32_t",
                    "units": "Seconds",
                    "desc": "Seconds since epoch (or relative time if not set). 0 if RTC time unknown."
                },
                {
                    "name": "millis",
                    "ctype": "uint16_t",
                    "units": "Milliseconds",
                    "desc": "Millisecond part of the time. 0 if RTC time unknown."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires RTC hardware/support. Returns (0, 0) if time is not available/set.",
        "description": "Retrieves the current Real-Time Clock time."
    },
    "MSP_SET_RTC": {
        "code": 247,
        "hex": "0xf7",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 6,
            "struct": "<iH",
            "payload": [
                {
                    "name": "seconds",
                    "ctype": "int32_t",
                    "units": "Seconds",
                    "desc": "Seconds component of time to set."
                },
                {
                    "name": "millis",
                    "ctype": "uint16_t",
                    "units": "Milliseconds",
                    "desc": "Millisecond component of time to set."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires RTC hardware/support. Expects 6 bytes. Uses `rtcSet()`.",
        "description": "Sets the Real-Time Clock time."
    },
    "MSP_EEPROM_WRITE": {
        "code": 250,
        "hex": "0xfa",
        "mspv": 1,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Will fail if armed. Suspends RX, calls `writeEEPROM()`, `readEEPROM()`, resumes RX.",
        "description": "Saves the current configuration from RAM to non-volatile memory (EEPROM/Flash)."
    },
    "MSP_DEBUGMSG": {
        "code": 253,
        "hex": "0xfd",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "Message Text",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "NUL` terminated [debug message](https://github.com/iNavFlight/inav/blob/master/docs/development/serial_printf_debugging.md) text.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Retrieves debug (\"serial printf\") messages from the firmware."
    },
    "MSP_DEBUG": {
        "code": 254,
        "hex": "0xfe",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<HHHH",
            "payload": [
                {
                    "name": "debugValues",
                    "ctype": "uint16_t[4]",
                    "units": "",
                    "desc": "First 4 values from the `debug` array.",
                    "array": true,
                    "array_ctype": "uint16_t",
                    "array_size": 4
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Useful for developers. See `MSP2_INAV_DEBUG` for 32-bit values.",
        "description": "Retrieves values from the firmware's `debug[]` array (legacy 16-bit version)."
    },
    "MSP_V2_FRAME": {
        "code": 255,
        "hex": "0xff",
        "mspv": 1,
        "direction": -1,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "See MSPv2 documentation for the actual frame structure that follows this indicator.",
        "description": "This ID is used as a *payload indicator* within an MSPv1 message structure (`$M>`) to signify that the following payload conforms to the MSPv2 format. It's not a command itself."
    },
    "MSP_STATUS_EX": {
        "code": 150,
        "hex": "0x96",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 16,
            "struct": "<HHHIBHHB",
            "payload": [
                {
                    "name": "cycleTime",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Main loop cycle time."
                },
                {
                    "name": "i2cErrors",
                    "ctype": "uint16_t",
                    "units": "Count",
                    "desc": "I2C errors."
                },
                {
                    "name": "sensorStatus",
                    "ctype": "uint16_t",
                    "units": "Bitmask",
                    "desc": "Sensor status bitmask."
                },
                {
                    "name": "activeModesLow",
                    "ctype": "uint32_t",
                    "units": "Bitmask",
                    "desc": "First 32 active modes."
                },
                {
                    "name": "profile",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Current config profile index."
                },
                {
                    "name": "cpuLoad",
                    "ctype": "uint16_t",
                    "units": "%",
                    "desc": "Average system load percentage (`averageSystemLoadPercent`)."
                },
                {
                    "name": "armingFlags",
                    "ctype": "uint16_t",
                    "units": "Bitmask",
                    "desc": "Flight controller arming flags (`armingFlags`). Note: Truncated to 16 bits."
                },
                {
                    "name": "accCalibAxisFlags",
                    "ctype": "uint8_t",
                    "units": "Bitmask",
                    "desc": "Accelerometer calibrated axes flags (`accGetCalibrationAxisFlags()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_STATUS` which provides the full 32-bit `armingFlags` and other enhancements.",
        "description": "Provides extended flight controller status, including CPU load, arming flags, and calibration status, in addition to `MSP_STATUS` fields."
    },
    "MSP_SENSOR_STATUS": {
        "code": 151,
        "hex": "0x97",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 9,
            "struct": "<BBBBBBBBB",
            "payload": [
                {
                    "name": "overallHealth",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "1 if all essential hardware is healthy, 0 otherwise (`isHardwareHealthy()`)."
                },
                {
                    "name": "gyroStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Gyro hardware status (`getHwGyroStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "accStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Accelerometer hardware status (`getHwAccelerometerStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "magStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Compass hardware status (`getHwCompassStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "baroStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Barometer hardware status (`getHwBarometerStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "gpsStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS hardware status (`getHwGPSStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "rangefinderStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Rangefinder hardware status (`getHwRangefinderStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "pitotStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Pitot hardware status (`getHwPitotmeterStatus()`).",
                    "enum": "?_e"
                },
                {
                    "name": "opflowStatus",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Optical Flow hardware status (`getHwOpticalFlowStatus()`).",
                    "enum": "?_e"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Status values likely correspond to `SENSOR_STATUS_*` enums (e.g., OK, Unhealthy, Not Present).",
        "description": "Provides the hardware status for each individual sensor system."
    },
    "MSP_UID": {
        "code": 160,
        "hex": "0xa0",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 12,
            "struct": "<III",
            "payload": [
                {
                    "name": "uid0",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "First 32 bits of the unique ID (`U_ID_0`)."
                },
                {
                    "name": "uid1",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Middle 32 bits of the unique ID (`U_ID_1`)."
                },
                {
                    "name": "uid2",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Last 32 bits of the unique ID (`U_ID_2`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Total 12 bytes, representing a 96-bit unique ID.",
        "description": "Provides the unique identifier of the microcontroller."
    },
    "MSP_GPSSVINFO": {
        "code": 164,
        "hex": "0xa4",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "protocolVersion",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 1 (Stub version)."
                },
                {
                    "name": "numChannels",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0 (Number of SV info channels reported)."
                },
                {
                    "name": "hdopHundreds",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "HDOP / 100 (`gpsSol.hdop / 100`)."
                },
                {
                    "name": "hdopUnits",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "HDOP / 100 (`gpsSol.hdop / 100`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_GPS`. This is just a stub in INAV and does not provide actual per-satellite signal info. `hdopUnits` duplicates `hdopHundreds`.",
        "description": "Provides satellite signal strength information (legacy U-Blox compatibility stub)."
    },
    "MSP_GPSSTATISTICS": {
        "code": 166,
        "hex": "0xa6",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 20,
            "struct": "<HIIIHHH",
            "payload": [
                {
                    "name": "lastMessageDt",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Time since last valid GPS message (`gpsStats.lastMessageDt`)."
                },
                {
                    "name": "errors",
                    "ctype": "uint32_t",
                    "units": "Count",
                    "desc": "Number of GPS communication errors (`gpsStats.errors`)."
                },
                {
                    "name": "timeouts",
                    "ctype": "uint32_t",
                    "units": "Count",
                    "desc": "Number of GPS communication timeouts (`gpsStats.timeouts`)."
                },
                {
                    "name": "packetCount",
                    "ctype": "uint32_t",
                    "units": "Count",
                    "desc": "Number of valid GPS packets received (`gpsStats.packetCount`)."
                },
                {
                    "name": "hdop",
                    "ctype": "uint16_t",
                    "units": "HDOP * 100",
                    "desc": "Horizontal Dilution of Precision (`gpsSol.hdop`)."
                },
                {
                    "name": "eph",
                    "ctype": "uint16_t",
                    "units": "cm",
                    "desc": "Estimated Horizontal Position Accuracy (`gpsSol.eph`)."
                },
                {
                    "name": "epv",
                    "ctype": "uint16_t",
                    "units": "cm",
                    "desc": "Estimated Vertical Position Accuracy (`gpsSol.epv`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_GPS`.",
        "description": "Provides debugging statistics for the GPS communication link."
    },
    "MSP_TX_INFO": {
        "code": 187,
        "hex": "0xbb",
        "mspv": 1,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 2,
            "struct": "<BB",
            "payload": [
                {
                    "name": "rssiSource",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Source of the RSSI value (`getRSSISource()`).",
                    "enum": "getRSSISource()"
                },
                {
                    "name": "rtcDateTimeIsSet",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if the RTC has been set, 0 otherwise."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "See `rssiSource_e`.",
        "description": "Provides information potentially useful for transmitter LUA scripts."
    },
    "MSP_SET_TX_INFO": {
        "code": 186,
        "hex": "0xba",
        "mspv": 1,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "rssi",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "RSSI value (0-100) provided by the external source."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Calls `setRSSIFromMSP()`. Expects 1 byte.",
        "description": "Allows a transmitter LUA script (or similar) to send runtime information (currently only RSSI) to the firmware."
    },
    "MSP2_COMMON_TZ": {
        "code": 4097,
        "hex": "0x1001",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 3,
            "struct": "<hB",
            "payload": [
                {
                    "name": "tzOffsetMinutes",
                    "ctype": "int16_t",
                    "units": "Minutes",
                    "desc": "Time zone offset from UTC (`timeConfig()->tz_offset`)."
                },
                {
                    "name": "tzAutoDst",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Automatic daylight saving time enabled (`timeConfig()->tz_automatic_dst`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Gets the time zone offset configuration."
    },
    "MSP2_COMMON_SET_TZ": {
        "code": 4098,
        "hex": "0x1002",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": false,
        "complex": true,
        "notes": "Accepts 2 or 3 bytes.",
        "description": "Sets the time zone offset configuration."
    },
    "MSP2_COMMON_SETTING": {
        "code": 4099,
        "hex": "0x1003",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<s",
            "payload": [
                {
                    "name": "settingName",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "Null-terminated string containing the setting name (e.g., \"gyro_main_lpf_hz\").",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                }
            ]
        },
        "reply": {
            "size": 2,
            "struct": "<s",
            "payload": [
                {
                    "name": "settingValue",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Raw byte value of the setting. Size depends on the setting's type (`settingGetValueSize()`).",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Returns error if setting not found. Use `MSP2_COMMON_SETTING_INFO` to discover settings, types, and sizes.",
        "description": "Gets the value of a specific configuration setting, identified by name or index."
    },
    "MSP2_COMMON_SET_SETTING": {
        "code": 4100,
        "hex": "0x1004",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 0,
            "struct": "<",
            "payload": [
                {
                    "name": "settingIdentifier",
                    "ctype": "Varies",
                    "units": "",
                    "desc": "Setting name (null-terminated string) OR Index (0x00 followed by `uint16_t` index).",
                    "polymorph": true
                },
                {
                    "name": "settingValue",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Raw byte value to set for the setting. Size must match the setting's type.",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": true,
        "notes": "Performs type checking and range validation (min/max). Returns error if setting not found, value size mismatch, or value out of range. Handles different data types (`uint8`, `int16`, `float`, `string`, etc.) internally.",
        "description": "Sets the value of a specific configuration setting, identified by name or index."
    },
    "MSP2_COMMON_MOTOR_MIXER": {
        "code": 4101,
        "hex": "0x1005",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": false,
        "complex": true,
        "notes": "Scaling is `(float_weight + 2.0) * 1000`. `primaryMotorMixer()` provides the data.",
        "description": "Retrieves the current motor mixer configuration (throttle, roll, pitch, yaw weights for each motor) for the primary and secondary mixer profiles."
    },
    "MSP2_COMMON_SET_MOTOR_MIXER": {
        "code": 4102,
        "hex": "0x1006",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BHHHH",
            "payload": [
                {
                    "name": "motorIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the motor to configure (0 to `MAX_SUPPORTED_MOTORS - 1`)."
                },
                {
                    "name": "throttleWeight",
                    "ctype": "uint16_t",
                    "units": "Scaled (0-4000)",
                    "desc": "Sets throttle weight from `(value / 1000.0) - 2.0`."
                },
                {
                    "name": "rollWeight",
                    "ctype": "uint16_t",
                    "units": "Scaled (0-4000)",
                    "desc": "Sets roll weight from `(value / 1000.0) - 2.0`."
                },
                {
                    "name": "pitchWeight",
                    "ctype": "uint16_t",
                    "units": "Scaled (0-4000)",
                    "desc": "Sets pitch weight from `(value / 1000.0) - 2.0`."
                },
                {
                    "name": "yawWeight",
                    "ctype": "uint16_t",
                    "units": "Scaled (0-4000)",
                    "desc": "Sets yaw weight from `(value / 1000.0) - 2.0`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 9 bytes. Modifies `primaryMotorMixerMutable()`. Returns error if index is invalid.",
        "description": "Sets the motor mixer weights for a single motor in the primary mixer profile."
    },
    "MSP2_COMMON_SETTING_INFO": {
        "code": 4103,
        "hex": "0x1007",
        "mspv": 2,
        "direction": 2,
        "request": null,
        "reply": {
            "size": 20,
            "struct": "<sHBBBiIHBBss",
            "payload": [
                {
                    "name": "settingName",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "Null-terminated setting name.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                },
                {
                    "name": "pgn",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Parameter Group Number (PGN) ID."
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Variable type (`VAR_UINT8`, `VAR_FLOAT`, etc.)."
                },
                {
                    "name": "section",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Setting section (`MASTER_VALUE`, `PROFILE_VALUE`, etc.)."
                },
                {
                    "name": "mode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Setting mode (`MODE_NORMAL`, `MODE_LOOKUP`, etc.)."
                },
                {
                    "name": "minValue",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Minimum allowed value (as signed 32-bit)."
                },
                {
                    "name": "maxValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Maximum allowed value (as unsigned 32-bit)."
                },
                {
                    "name": "settingIndex",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Absolute index of the setting."
                },
                {
                    "name": "profileIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Current profile index (if applicable, else 0)."
                },
                {
                    "name": "profileCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Total number of profiles (if applicable, else 0)."
                },
                {
                    "name": "lookupNames",
                    "ctype": "char[]",
                    "units": "",
                    "desc": "(If `mode == MODE_LOOKUP`) Series of null-terminated strings for each possible value from min to max.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 0
                },
                {
                    "name": "settingValue",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Current raw byte value of the setting.",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Gets detailed information about a specific configuration setting (name, type, range, flags, current value, etc.)."
    },
    "MSP2_COMMON_PG_LIST": {
        "code": 4104,
        "hex": "0x1008",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 2,
            "struct": "<H",
            "payload": [
                {
                    "name": "pgn",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "PGN ID to query. If omitted, returns all used PGNs."
                }
            ]
        },
        "reply": {
            "size": 8,
            "struct": "<HHH",
            "payload": [
                {
                    "name": "pgn",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Parameter Group Number (PGN) ID."
                },
                {
                    "name": "startIndex",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Absolute index of the first setting in this group."
                },
                {
                    "name": "endIndex",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Absolute index of the last setting in this group."
                }
            ],
            "repeating": "for each PGN found"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Allows efficient fetching of related settings by group.",
        "description": "Gets a list of Parameter Group Numbers (PGNs) used by settings, along with the start and end setting indexes for each group. Can request info for a single PGN."
    },
    "MSP2_COMMON_SERIAL_CONFIG": {
        "code": 4105,
        "hex": "0x1009",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 9,
            "struct": "<BIBBBB",
            "payload": [
                {
                    "name": "identifier",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Port identifier (`serialPortIdentifier_e`)."
                },
                {
                    "name": "functionMask",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Bitmask of enabled functions (`FUNCTION_*`)."
                },
                {
                    "name": "mspBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for MSP function."
                },
                {
                    "name": "gpsBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for GPS function."
                },
                {
                    "name": "telemetryBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for Telemetry function."
                },
                {
                    "name": "peripheralBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for other peripheral functions."
                }
            ],
            "repeating": "for each available serial port"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Baud rate indexes map to actual baud rates (e.g., 9600, 115200). See `baudRates` array.",
        "description": "Retrieves the configuration for all available serial ports."
    },
    "MSP2_COMMON_SET_SERIAL_CONFIG": {
        "code": 4106,
        "hex": "0x100a",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BIBBBB",
            "payload": [
                {
                    "name": "identifier",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Port identifier (`serialPortIdentifier_e`)."
                },
                {
                    "name": "functionMask",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Bitmask of functions to enable."
                },
                {
                    "name": "mspBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for MSP."
                },
                {
                    "name": "gpsBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for GPS."
                },
                {
                    "name": "telemetryBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for Telemetry."
                },
                {
                    "name": "peripheralBaudIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Baud rate index for peripherals."
                }
            ],
            "repeating": "for each port being configured"
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Payload size must be a multiple of the size of one port config entry (1 + 4 + 4 = 9 bytes). Returns error if identifier is invalid or size is incorrect. Baud rate indexes are constrained `BAUD_MIN` to `BAUD_MAX`.",
        "description": "Sets the configuration for one or more serial ports."
    },
    "MSP2_COMMON_SET_RADAR_POS": {
        "code": 4107,
        "hex": "0x100b",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 19,
            "struct": "<BBiiihHB",
            "payload": [
                {
                    "name": "poiIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the POI slot (0 to `RADAR_MAX_POIS - 1`)."
                },
                {
                    "name": "state",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Status of the POI (0=undefined, 1=armed, 2=lost).",
                    "enum": "?_e"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Latitude of the POI."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Longitude of the POI."
                },
                {
                    "name": "altitude",
                    "ctype": "int32_t",
                    "units": "cm",
                    "desc": "Altitude of the POI."
                },
                {
                    "name": "heading",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Heading of the POI."
                },
                {
                    "name": "speed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Speed of the POI."
                },
                {
                    "name": "linkQuality",
                    "ctype": "uint8_t",
                    "units": "0-4",
                    "desc": "Link quality indicator."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 19 bytes. Updates the `radar_pois` array.",
        "description": "Sets the position and status information for a \"radar\" Point of Interest (POI). Used for displaying other craft/objects on the OSD map."
    },
    "MSP2_COMMON_SET_RADAR_ITD": {
        "code": 4108,
        "hex": "0x100c",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Sets radar information to display (likely internal/unused)."
    },
    "MSP2_COMMON_SET_MSP_RC_LINK_STATS": {
        "code": 4109,
        "hex": "0x100d",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 7,
            "struct": "<BBBBBBb",
            "payload": [
                {
                    "name": "sublinkID",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Sublink identifier (usually 0)."
                },
                {
                    "name": "validLink",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Indicates if the link is currently valid (not in failsafe)."
                },
                {
                    "name": "rssiPercent",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Uplink RSSI percentage (0-100)."
                },
                {
                    "name": "uplinkRSSI_dBm",
                    "ctype": "uint8_t",
                    "units": "-dBm",
                    "desc": "Uplink RSSI in dBm (sent as positive, e.g., 70 means -70dBm)."
                },
                {
                    "name": "downlinkLQ",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Downlink Link Quality (0-100)."
                },
                {
                    "name": "uplinkLQ",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Uplink Link Quality (0-100)."
                },
                {
                    "name": "uplinkSNR",
                    "ctype": "int8_t",
                    "units": "dB",
                    "desc": "Uplink Signal-to-Noise Ratio."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_RX_MSP`. Expects at least 7 bytes. Updates `rxLinkStatistics` and sets RSSI via `setRSSIFromMSP_RC()` only if `sublinkID` is 0. This message expects **no reply** (`MSP_RESULT_NO_REPLY`).",
        "description": "Provides RC link statistics (RSSI, LQ) to the FC, typically from an MSP-based RC link (like ExpressLRS). Sent periodically by the RC link."
    },
    "MSP2_COMMON_SET_MSP_RC_INFO": {
        "code": 4110,
        "hex": "0x100e",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BHHcccccccccc",
            "payload": [
                {
                    "name": "sublinkID",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Sublink identifier (usually 0)."
                },
                {
                    "name": "uplinkTxPower",
                    "ctype": "uint16_t",
                    "units": "mW?",
                    "desc": "Uplink transmitter power level."
                },
                {
                    "name": "downlinkTxPower",
                    "ctype": "uint16_t",
                    "units": "mW?",
                    "desc": "Downlink transmitter power level."
                },
                {
                    "name": "band",
                    "ctype": "char[4]",
                    "units": "-",
                    "desc": "Operating band string (e.g., \"2G4\", \"900\").",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 4
                },
                {
                    "name": "mode",
                    "ctype": "char[6]",
                    "units": "-",
                    "desc": "Operating mode/rate string (e.g., \"100HZ\", \"F1000\").",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": 6
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_RX_MSP`. Expects at least 15 bytes. Updates `rxLinkStatistics` only if `sublinkID` is 0. Converts band/mode strings to uppercase. This message expects **no reply** (`MSP_RESULT_NO_REPLY`).",
        "description": "Provides additional RC link information (power levels, band, mode) to the FC from an MSP-based RC link. Sent less frequently than link stats."
    },
    "MSP2_INAV_STATUS": {
        "code": 8192,
        "hex": "0x2000",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 13,
            "struct": "<HHHHBI",
            "payload": [
                {
                    "name": "cycleTime",
                    "ctype": "uint16_t",
                    "units": "\u00b5s",
                    "desc": "Main loop cycle time."
                },
                {
                    "name": "i2cErrors",
                    "ctype": "uint16_t",
                    "units": "Count",
                    "desc": "I2C errors."
                },
                {
                    "name": "sensorStatus",
                    "ctype": "uint16_t",
                    "units": "Bitmask",
                    "desc": "Sensor status bitmask."
                },
                {
                    "name": "cpuLoad",
                    "ctype": "uint16_t",
                    "units": "%",
                    "desc": "Average system load percentage."
                },
                {
                    "name": "profileAndBattProfile",
                    "ctype": "uint8_t",
                    "units": "Packed",
                    "desc": "Bits 0-3: Config profile index (`getConfigProfile()`), Bits 4-7: Battery profile index (`getConfigBatteryProfile()`)."
                },
                {
                    "name": "armingFlags",
                    "ctype": "uint32_t",
                    "units": "Bitmask",
                    "desc": "Full 32-bit flight controller arming flags (`armingFlags`)."
                },
                {
                    "name": "activeModes",
                    "ctype": "boxBitmask_t",
                    "units": "Bitmask",
                    "desc": "Full bitmask of active flight modes (`packBoxModeFlags()`)."
                },
                {
                    "name": "mixerProfile",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Current mixer profile index (`getConfigMixerProfile()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": true,
        "notes": "",
        "description": "Provides comprehensive flight controller status, extending `MSP_STATUS_EX` with full arming flags, battery profile, and mixer profile."
    },
    "MSP2_INAV_OPTICAL_FLOW": {
        "code": 8193,
        "hex": "0x2001",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 9,
            "struct": "<Bhhhh",
            "payload": [
                {
                    "name": "quality",
                    "ctype": "uint8_t",
                    "units": "0-255",
                    "desc": "Raw quality indicator from the sensor (`opflow.rawQuality`). 0 if `USE_OPFLOW` disabled."
                },
                {
                    "name": "flowRateX",
                    "ctype": "int16_t",
                    "units": "degrees/s",
                    "desc": "Optical flow rate X (roll axis) (`RADIANS_TO_DEGREES(opflow.flowRate[X])`). 0 if `USE_OPFLOW` disabled."
                },
                {
                    "name": "flowRateY",
                    "ctype": "int16_t",
                    "units": "degrees/s",
                    "desc": "Optical flow rate Y (pitch axis) (`RADIANS_TO_DEGREES(opflow.flowRate[Y])`). 0 if `USE_OPFLOW` disabled."
                },
                {
                    "name": "bodyRateX",
                    "ctype": "int16_t",
                    "units": "degrees/s",
                    "desc": "Compensated body rate X (roll axis) (`RADIANS_TO_DEGREES(opflow.bodyRate[X])`). 0 if `USE_OPFLOW` disabled."
                },
                {
                    "name": "bodyRateY",
                    "ctype": "int16_t",
                    "units": "degrees/s",
                    "desc": "Compensated body rate Y (pitch axis) (`RADIANS_TO_DEGREES(opflow.bodyRate[Y])`). 0 if `USE_OPFLOW` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_OPFLOW`.",
        "description": "Provides data from the optical flow sensor."
    },
    "MSP2_INAV_ANALOG": {
        "code": 8194,
        "hex": "0x2002",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 24,
            "struct": "<BHHIIIIBH",
            "payload": [
                {
                    "name": "batteryFlags",
                    "ctype": "uint8_t",
                    "units": "Bitmask",
                    "desc": "Battery status flags: Bit 0=Full on plug-in, Bit 1=Use capacity threshold, Bit 2-3=Battery State enum (`getBatteryState()`), Bit 4-7=Cell Count (`getBatteryCellCount()`).",
                    "enum": "getBatteryState()"
                },
                {
                    "name": "vbat",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Battery voltage (`getBatteryVoltage()`)."
                },
                {
                    "name": "amperage",
                    "ctype": "uint16_t",
                    "units": "0.01A",
                    "desc": "Current draw (`getAmperage()`)."
                },
                {
                    "name": "powerDraw",
                    "ctype": "uint32_t",
                    "units": "mW",
                    "desc": "Power draw (`getPower()`)."
                },
                {
                    "name": "mAhDrawn",
                    "ctype": "uint32_t",
                    "units": "mAh",
                    "desc": "Consumed capacity (`getMAhDrawn()`)."
                },
                {
                    "name": "mWhDrawn",
                    "ctype": "uint32_t",
                    "units": "mWh",
                    "desc": "Consumed energy (`getMWhDrawn()`)."
                },
                {
                    "name": "remainingCapacity",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Estimated remaining capacity (`getBatteryRemainingCapacity()`)."
                },
                {
                    "name": "percentageRemaining",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Estimated remaining capacity percentage (`calculateBatteryPercentage()`)."
                },
                {
                    "name": "rssi",
                    "ctype": "uint16_t",
                    "units": "0-1023 or %",
                    "desc": "RSSI value (`getRSSI()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Provides detailed analog sensor readings, superseding `MSP_ANALOG` with higher precision and additional fields."
    },
    "MSP2_INAV_MISC": {
        "code": 8195,
        "hex": "0x2003",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 41,
            "struct": "<HHHHHBBBBHHBBHHHHIIIB",
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Mid RC value (`PWM_RANGE_MIDDLE`)."
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Maximum throttle command (`getMaxThrottle()`)."
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Minimum motor command (`motorConfig()->mincommand`)."
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Failsafe throttle level (`currentBatteryProfile->failsafe_throttle`)."
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS provider type (`gpsConfig()->provider`). 0 if `USE_GPS` disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Always 0 (Legacy)."
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "GPS SBAS mode (`gpsConfig()->sbasMode`). 0 if `USE_GPS` disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "RSSI channel index (1-based) (`rxConfig()->rssi_channel`)."
                },
                {
                    "name": "magDeclination",
                    "ctype": "uint16_t",
                    "units": "0.1 degrees",
                    "desc": "Magnetic declination / 10 (`compassConfig()->mag_declination / 10`). 0 if `USE_MAG` disabled."
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "units": "Scale",
                    "desc": "Voltage scale (`batteryMetersConfig()->voltage.scale`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Voltage source (`batteryMetersConfig()->voltageSource`). 0 if `USE_ADC` disabled.",
                    "enum": "?_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Configured cell count (`currentBatteryProfile->cells`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Cell detection voltage (`currentBatteryProfile->voltage.cellDetect`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Min cell voltage (`currentBatteryProfile->voltage.cellMin`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Max cell voltage (`currentBatteryProfile->voltage.cellMax`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Warning cell voltage (`currentBatteryProfile->voltage.cellWarning`). 0 if `USE_ADC` disabled."
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Battery capacity (`currentBatteryProfile->capacity.value`)."
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Capacity warning threshold (`currentBatteryProfile->capacity.warning`)."
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Capacity critical threshold (`currentBatteryProfile->capacity.critical`)."
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Capacity unit (`batteryMetersConfig()->capacity_unit`).",
                    "enum": "?_e"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves miscellaneous configuration settings, superseding `MSP_MISC` with higher precision and capacity fields."
    },
    "MSP2_INAV_SET_MISC": {
        "code": 8196,
        "hex": "0x2004",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 41,
            "struct": "<HHHHHBBBBHHBBHHHHIIIB",
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "legacyMaxThrottle",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `motorConfigMutable()->mincommand` (constrained)."
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets `currentBatteryProfileMutable->failsafe_throttle` (constrained)."
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `gpsConfigMutable()->provider` (if `USE_GPS`).",
                    "enum": "?_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Ignored."
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `gpsConfigMutable()->sbasMode` (if `USE_GPS`).",
                    "enum": "?_e"
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Sets `rxConfigMutable()->rssi_channel` (constrained). Updates source."
                },
                {
                    "name": "magDeclination",
                    "ctype": "uint16_t",
                    "units": "0.1 degrees",
                    "desc": "Sets `compassConfigMutable()->mag_declination = value * 10` (if `USE_MAG`)."
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "units": "Scale",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale` (if `USE_ADC`)."
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `batteryMetersConfigMutable()->voltageSource` (if `USE_ADC`, validated).",
                    "enum": "?_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Sets `currentBatteryProfileMutable->cells` (if `USE_ADC`)."
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellDetect` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax` (if `USE_ADC`)."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning` (if `USE_ADC`)."
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.value`."
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.warning`."
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.critical`."
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `batteryMetersConfigMutable()->capacity_unit` (validated). Updates OSD energy unit if changed.",
                    "enum": "?_e"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 41 bytes. Performs validation on `vbatSource` and `capacityUnit`.",
        "description": "Sets miscellaneous configuration settings, superseding `MSP_SET_MISC`."
    },
    "MSP2_INAV_BATTERY_CONFIG": {
        "code": 8197,
        "hex": "0x2005",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 29,
            "struct": "<HBBHHHHHHIIIB",
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "units": "Scale",
                    "desc": "Voltage scale (`batteryMetersConfig()->voltage.scale`)."
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Voltage source (`batteryMetersConfig()->voltageSource`).",
                    "enum": "?_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Configured cell count (`currentBatteryProfile->cells`)."
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Cell detection voltage (`currentBatteryProfile->voltage.cellDetect`)."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Min cell voltage (`currentBatteryProfile->voltage.cellMin`)."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Max cell voltage (`currentBatteryProfile->voltage.cellMax`)."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Warning cell voltage (`currentBatteryProfile->voltage.cellWarning`)."
                },
                {
                    "name": "currentOffset",
                    "ctype": "uint16_t",
                    "units": "mV",
                    "desc": "Current sensor offset (`batteryMetersConfig()->current.offset`)."
                },
                {
                    "name": "currentScale",
                    "ctype": "uint16_t",
                    "units": "Scale",
                    "desc": "Current sensor scale (`batteryMetersConfig()->current.scale`)."
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Battery capacity (`currentBatteryProfile->capacity.value`)."
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Capacity warning threshold (`currentBatteryProfile->capacity.warning`)."
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Capacity critical threshold (`currentBatteryProfile->capacity.critical`)."
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Capacity unit (`batteryMetersConfig()->capacity_unit`).",
                    "enum": "?_e"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Fields are 0 if `USE_ADC` is not defined.",
        "description": "Retrieves the configuration specific to the battery voltage and current sensors and capacity settings for the current battery profile."
    },
    "MSP2_INAV_SET_BATTERY_CONFIG": {
        "code": 8198,
        "hex": "0x2006",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 29,
            "struct": "<HBBHHHHHHIIIB",
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "units": "Scale",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale` (if `USE_ADC`)."
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `batteryMetersConfigMutable()->voltageSource` (if `USE_ADC`, validated).",
                    "enum": "?_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Sets `currentBatteryProfileMutable->cells` (if `USE_ADC`)."
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellDetect` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin` (if `USE_ADC`)."
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax` (if `USE_ADC`)."
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "units": "0.01V",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning` (if `USE_ADC`)."
                },
                {
                    "name": "currentOffset",
                    "ctype": "uint16_t",
                    "units": "mV",
                    "desc": "Sets `batteryMetersConfigMutable()->current.offset`."
                },
                {
                    "name": "currentScale",
                    "ctype": "uint16_t",
                    "units": "Scale",
                    "desc": "Sets `batteryMetersConfigMutable()->current.scale`."
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.value`."
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.warning`."
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "units": "mAh/mWh",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.critical`."
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets `batteryMetersConfigMutable()->capacity_unit` (validated). Updates OSD energy unit if changed.",
                    "enum": "?_e"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 29 bytes. Performs validation on `vbatSource` and `capacityUnit`.",
        "description": "Sets the battery voltage/current sensor configuration and capacity settings for the current battery profile."
    },
    "MSP2_INAV_RATE_PROFILE": {
        "code": 8199,
        "hex": "0x2007",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 15,
            "struct": "<BBBHBBBBBBBBBB",
            "payload": [
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Throttle Midpoint (`currentControlRateProfile->throttle.rcMid8`)."
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Throttle Expo (`currentControlRateProfile->throttle.rcExpo8`)."
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "TPA value (`currentControlRateProfile->throttle.dynPID`)."
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "TPA breakpoint (`currentControlRateProfile->throttle.pa_breakpoint`)."
                },
                {
                    "name": "stabRcExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Stabilized Roll/Pitch Expo (`currentControlRateProfile->stabilized.rcExpo8`)."
                },
                {
                    "name": "stabRcYawExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Stabilized Yaw Expo (`currentControlRateProfile->stabilized.rcYawExpo8`)."
                },
                {
                    "name": "stabRollRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Stabilized Roll Rate (`currentControlRateProfile->stabilized.rates[FD_ROLL]`)."
                },
                {
                    "name": "stabPitchRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Stabilized Pitch Rate (`currentControlRateProfile->stabilized.rates[FD_PITCH]`)."
                },
                {
                    "name": "stabYawRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Stabilized Yaw Rate (`currentControlRateProfile->stabilized.rates[FD_YAW]`)."
                },
                {
                    "name": "manualRcExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Manual Roll/Pitch Expo (`currentControlRateProfile->manual.rcExpo8`)."
                },
                {
                    "name": "manualRcYawExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Manual Yaw Expo (`currentControlRateProfile->manual.rcYawExpo8`)."
                },
                {
                    "name": "manualRollRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Manual Roll Rate (`currentControlRateProfile->manual.rates[FD_ROLL]`)."
                },
                {
                    "name": "manualPitchRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Manual Pitch Rate (`currentControlRateProfile->manual.rates[FD_PITCH]`)."
                },
                {
                    "name": "manualYawRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Manual Yaw Rate (`currentControlRateProfile->manual.rates[FD_YAW]`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves the rates and expos for the current control rate profile, including both stabilized and manual flight modes. Supersedes `MSP_RC_TUNING`."
    },
    "MSP2_INAV_SET_RATE_PROFILE": {
        "code": 8200,
        "hex": "0x2008",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BBBHBBBBBBBBBB",
            "payload": [
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->throttle.rcMid8`."
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->throttle.rcExpo8`."
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->throttle.dynPID`."
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->throttle.pa_breakpoint`."
                },
                {
                    "name": "stabRcExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->stabilized.rcExpo8`."
                },
                {
                    "name": "stabRcYawExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->stabilized.rcYawExpo8`."
                },
                {
                    "name": "stabRollRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->stabilized.rates[FD_ROLL]` (constrained)."
                },
                {
                    "name": "stabPitchRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->stabilized.rates[FD_PITCH]` (constrained)."
                },
                {
                    "name": "stabYawRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->stabilized.rates[FD_YAW]` (constrained)."
                },
                {
                    "name": "manualRcExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->manual.rcExpo8`."
                },
                {
                    "name": "manualRcYawExpo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->manual.rcYawExpo8`."
                },
                {
                    "name": "manualRollRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->manual.rates[FD_ROLL]` (constrained)."
                },
                {
                    "name": "manualPitchRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->manual.rates[FD_PITCH]` (constrained)."
                },
                {
                    "name": "manualYawRate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `currentControlRateProfile_p->manual.rates[FD_YAW]` (constrained)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 15 bytes. Constraints applied to rates based on axis.",
        "description": "Sets the rates and expos for the current control rate profile (stabilized and manual). Supersedes `MSP_SET_RC_TUNING`."
    },
    "MSP2_INAV_AIR_SPEED": {
        "code": 8201,
        "hex": "0x2009",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "airspeed",
                    "ctype": "uint32_t",
                    "units": "cm/s",
                    "desc": "Estimated/measured airspeed (`getAirspeedEstimate()`). 0 if `USE_PITOT` disabled or no valid data."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_PITOT` for measured airspeed. May return GPS ground speed if pitot unavailable but GPS is present and configured.",
        "description": "Retrieves the estimated or measured airspeed."
    },
    "MSP2_INAV_OUTPUT_MAPPING": {
        "code": 8202,
        "hex": "0x200a",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "usageFlags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Timer usage flags (truncated). `TIM_USE_MOTOR` or `TIM_USE_SERVO`."
                }
            ],
            "repeating": "for each Motor/Servo timer"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Superseded by `MSP2_INAV_OUTPUT_MAPPING_EXT2`. Only includes timers *not* used for PPM/PWM input.",
        "description": "Retrieves the output mapping configuration (identifies which timer outputs are used for Motors/Servos). Legacy version sending only 8-bit usage flags."
    },
    "MSP2_INAV_MC_BRAKING": {
        "code": 8203,
        "hex": "0x200b",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 14,
            "struct": "<HHHBHHHB",
            "payload": [
                {
                    "name": "brakingSpeedThreshold",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Speed above which braking engages (`navConfig()->mc.braking_speed_threshold`)."
                },
                {
                    "name": "brakingDisengageSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Speed below which braking disengages (`navConfig()->mc.braking_disengage_speed`)."
                },
                {
                    "name": "brakingTimeout",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Timeout before braking force reduces (`navConfig()->mc.braking_timeout`)."
                },
                {
                    "name": "brakingBoostFactor",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Boost factor applied during braking (`navConfig()->mc.braking_boost_factor`)."
                },
                {
                    "name": "brakingBoostTimeout",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Timeout for the boost factor (`navConfig()->mc.braking_boost_timeout`)."
                },
                {
                    "name": "brakingBoostSpeedThreshold",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Speed threshold for boost engagement (`navConfig()->mc.braking_boost_speed_threshold`)."
                },
                {
                    "name": "brakingBoostDisengageSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Speed threshold for boost disengagement (`navConfig()->mc.braking_boost_disengage_speed`)."
                },
                {
                    "name": "brakingBankAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Maximum bank angle allowed during braking (`navConfig()->mc.braking_bank_angle`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Payload is empty if `USE_MR_BRAKING_MODE` is not defined.",
        "description": "Retrieves configuration parameters for the multirotor braking mode feature."
    },
    "MSP2_INAV_SET_MC_BRAKING": {
        "code": 8204,
        "hex": "0x200c",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 14,
            "struct": "<HHHBHHHB",
            "payload": [
                {
                    "name": "brakingSpeedThreshold",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->mc.braking_speed_threshold`."
                },
                {
                    "name": "brakingDisengageSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->mc.braking_disengage_speed`."
                },
                {
                    "name": "brakingTimeout",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Sets `navConfigMutable()->mc.braking_timeout`."
                },
                {
                    "name": "brakingBoostFactor",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_factor`."
                },
                {
                    "name": "brakingBoostTimeout",
                    "ctype": "uint16_t",
                    "units": "ms",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_timeout`."
                },
                {
                    "name": "brakingBoostSpeedThreshold",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_speed_threshold`."
                },
                {
                    "name": "brakingBoostDisengageSpeed",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_disengage_speed`."
                },
                {
                    "name": "brakingBankAngle",
                    "ctype": "uint8_t",
                    "units": "degrees",
                    "desc": "Sets `navConfigMutable()->mc.braking_bank_angle`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 14 bytes. Returns error if `USE_MR_BRAKING_MODE` is not defined.",
        "description": "Sets configuration parameters for the multirotor braking mode feature."
    },
    "MSP2_INAV_OUTPUT_MAPPING_EXT": {
        "code": 8205,
        "hex": "0x200d",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 2,
            "struct": "<BB",
            "payload": [
                {
                    "name": "timerId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Hardware timer identifier (e.g., `TIM1`, `TIM2`). Value depends on target."
                },
                {
                    "name": "usageFlags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Timer usage flags (truncated). `TIM_USE_MOTOR` or `TIM_USE_SERVO`."
                }
            ],
            "repeating": "for each Motor/Servo timer"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Usage flags are truncated to 8 bits. `timerId` mapping is target-specific.",
        "description": "Retrieves extended output mapping configuration (timer ID and usage flags). Obsolete, use `MSP2_INAV_OUTPUT_MAPPING_EXT2`."
    },
    "MSP2_INAV_TIMER_OUTPUT_MODE": {
        "code": 8206,
        "hex": "0x200e",
        "mspv": 2,
        "direction": 2,
        "request": null,
        "reply": {
            "size": 2,
            "struct": "<BB",
            "payload": [
                {
                    "name": "timerIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Timer index."
                },
                {
                    "name": "outputMode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Output mode override (`TIMER_OUTPUT_MODE_*` enum).",
                    "enum": "TIMER_OUTPUT_MODE_*"
                }
            ],
            "repeating": "HARDWARE_TIMER_DEFINITION_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Only available on non-SITL builds. `HARDWARE_TIMER_DEFINITION_COUNT` varies by target.",
        "description": "Get or list the output mode override for hardware timers (e.g., force ONESHOT, DSHOT)."
    },
    "MSP2_INAV_SET_TIMER_OUTPUT_MODE": {
        "code": 8207,
        "hex": "0x200f",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 2,
            "struct": "<BB",
            "payload": [
                {
                    "name": "timerIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the hardware timer definition."
                },
                {
                    "name": "outputMode",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Output mode override (`TIMER_OUTPUT_MODE_*` enum) to set.",
                    "enum": "TIMER_OUTPUT_MODE_*"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Only available on non-SITL builds. Expects 2 bytes. Returns error if `timerIndex` is invalid.",
        "description": "Set the output mode override for a specific hardware timer."
    },
    "MSP2_INAV_OUTPUT_MAPPING_EXT2": {
        "code": 8461,
        "hex": "0x210d",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<BIB",
            "payload": [
                {
                    "name": "timerId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Hardware timer identifier (e.g., `TIM1`, `TIM2`). SITL uses index."
                },
                {
                    "name": "usageFlags",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Full 32-bit timer usage flags (`TIM_USE_*`)."
                },
                {
                    "name": "pinLabel",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Label for special pin usage (`PIN_LABEL_*` enum, e.g., `PIN_LABEL_LED`). 0 (`PIN_LABEL_NONE`) otherwise.",
                    "enum": "PIN_LABEL_*"
                }
            ],
            "repeating": "for each Motor/Servo timer"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Provides complete usage flags and helps identify pins repurposed for functions like LED strip.",
        "description": "Retrieves the full extended output mapping configuration (timer ID, full 32-bit usage flags, and pin label). Supersedes `MSP2_INAV_OUTPUT_MAPPING_EXT`."
    },
    "MSP2_INAV_MIXER": {
        "code": 8208,
        "hex": "0x2010",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 9,
            "struct": "<BBBBBHBB",
            "payload": [
                {
                    "name": "motorDirectionInverted",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if motor direction is reversed globally (`mixerConfig()->motorDirectionInverted`)."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Always 0 (Was yaw jump prevention limit)."
                },
                {
                    "name": "motorStopOnLow",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if motors stop at minimum throttle (`mixerConfig()->motorstopOnLow`)."
                },
                {
                    "name": "platformType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`platformType_e`): Vehicle platform type (Multirotor, Airplane, etc.) (`mixerConfig()->platformType`).",
                    "enum": "platformType_e"
                },
                {
                    "name": "hasFlaps",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if the current mixer configuration includes flaps (`mixerConfig()->hasFlaps`)."
                },
                {
                    "name": "appliedMixerPreset",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Enum (`mixerPreset_e`): Mixer preset currently applied (`mixerConfig()->appliedMixerPreset`).",
                    "enum": "mixerPreset_e"
                },
                {
                    "name": "maxMotors",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Constant: Maximum motors supported (`MAX_SUPPORTED_MOTORS`)."
                },
                {
                    "name": "maxServos",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Constant: Maximum servos supported (`MAX_SUPPORTED_SERVOS`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves INAV-specific mixer configuration details."
    },
    "MSP2_INAV_SET_MIXER": {
        "code": 8209,
        "hex": "0x2011",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BBBBBHBB",
            "payload": [
                {
                    "name": "motorDirectionInverted",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `mixerConfigMutable()->motorDirectionInverted`."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "motorStopOnLow",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `mixerConfigMutable()->motorstopOnLow`."
                },
                {
                    "name": "platformType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `mixerConfigMutable()->platformType`."
                },
                {
                    "name": "hasFlaps",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `mixerConfigMutable()->hasFlaps`."
                },
                {
                    "name": "appliedMixerPreset",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `mixerConfigMutable()->appliedMixerPreset`."
                },
                {
                    "name": "maxMotors",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                },
                {
                    "name": "maxServos",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Ignored."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 9 bytes. Calls `mixerUpdateStateFlags()`.",
        "description": "Sets INAV-specific mixer configuration details."
    },
    "MSP2_INAV_OSD_LAYOUTS": {
        "code": 8210,
        "hex": "0x2012",
        "mspv": 2,
        "direction": 2,
        "request": null,
        "reply": {
            "size": 2,
            "struct": "<BB",
            "payload": [
                {
                    "name": "layoutCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of OSD layouts (`OSD_LAYOUT_COUNT`)."
                },
                {
                    "name": "itemCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of OSD items per layout (`OSD_ITEM_COUNT`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_OSD`. Returns error if indexes are invalid.",
        "description": "Gets OSD layout information (counts, positions for a specific layout, or position for a specific item)."
    },
    "MSP2_INAV_OSD_SET_LAYOUT_ITEM": {
        "code": 8211,
        "hex": "0x2013",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<BBH",
            "payload": [
                {
                    "name": "layoutIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the OSD layout (0 to `OSD_LAYOUT_COUNT - 1`)."
                },
                {
                    "name": "itemIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the OSD item (`OSD_ITEM_*` enum).",
                    "enum": "OSD_ITEM_*"
                },
                {
                    "name": "itemPosition",
                    "ctype": "uint16_t",
                    "units": "Coordinates",
                    "desc": "Packed X/Y position (`(Y << 8)"
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_OSD`. Expects 4 bytes. Returns error if indexes are invalid. If the modified layout is not the currently active one, it temporarily overrides the active layout for 10 seconds to show the change. Otherwise, triggers a full OSD redraw.",
        "description": "Sets the position of a single OSD item within a specific layout."
    },
    "MSP2_INAV_OSD_ALARMS": {
        "code": 8212,
        "hex": "0x2014",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 28,
            "struct": "<BHHHHHhhBHHHHHH",
            "payload": [
                {
                    "name": "rssiAlarm",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "RSSI alarm threshold (`osdConfig()->rssi_alarm`)."
                },
                {
                    "name": "timerAlarm",
                    "ctype": "uint16_t",
                    "units": "seconds",
                    "desc": "Timer alarm threshold (`osdConfig()->time_alarm`)."
                },
                {
                    "name": "altAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Altitude alarm threshold (`osdConfig()->alt_alarm`)."
                },
                {
                    "name": "distAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Distance alarm threshold (`osdConfig()->dist_alarm`)."
                },
                {
                    "name": "negAltAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Negative altitude alarm threshold (`osdConfig()->neg_alt_alarm`)."
                },
                {
                    "name": "gForceAlarm",
                    "ctype": "uint16_t",
                    "units": "G * 1000",
                    "desc": "G-force alarm threshold (`osdConfig()->gforce_alarm * 1000`)."
                },
                {
                    "name": "gForceAxisMinAlarm",
                    "ctype": "int16_t",
                    "units": "G * 1000",
                    "desc": "Min G-force per-axis alarm (`osdConfig()->gforce_axis_alarm_min * 1000`)."
                },
                {
                    "name": "gForceAxisMaxAlarm",
                    "ctype": "int16_t",
                    "units": "G * 1000",
                    "desc": "Max G-force per-axis alarm (`osdConfig()->gforce_axis_alarm_max * 1000`)."
                },
                {
                    "name": "currentAlarm",
                    "ctype": "uint8_t",
                    "units": "0.1 A ?",
                    "desc": "Current draw alarm threshold (`osdConfig()->current_alarm`). Units may need verification."
                },
                {
                    "name": "imuTempMinAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Min IMU temperature alarm (`osdConfig()->imu_temp_alarm_min`)."
                },
                {
                    "name": "imuTempMaxAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Max IMU temperature alarm (`osdConfig()->imu_temp_alarm_max`)."
                },
                {
                    "name": "baroTempMinAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Min Baro temperature alarm (`osdConfig()->baro_temp_alarm_min`). 0 if `USE_BARO` disabled."
                },
                {
                    "name": "baroTempMaxAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Max Baro temperature alarm (`osdConfig()->baro_temp_alarm_max`). 0 if `USE_BARO` disabled."
                },
                {
                    "name": "adsbWarnDistance",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "ADSB warning distance (`osdConfig()->adsb_distance_warning`). 0 if `USE_ADSB` disabled."
                },
                {
                    "name": "adsbAlertDistance",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "ADSB alert distance (`osdConfig()->adsb_distance_alert`). 0 if `USE_ADSB` disabled."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_OSD`.",
        "description": "Retrieves OSD alarm threshold settings."
    },
    "MSP2_INAV_OSD_SET_ALARMS": {
        "code": 8213,
        "hex": "0x2015",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 24,
            "struct": "<BHHHHHhhBHHHH",
            "payload": [
                {
                    "name": "rssiAlarm",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets `osdConfigMutable()->rssi_alarm`."
                },
                {
                    "name": "timerAlarm",
                    "ctype": "uint16_t",
                    "units": "seconds",
                    "desc": "Sets `osdConfigMutable()->time_alarm`."
                },
                {
                    "name": "altAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `osdConfigMutable()->alt_alarm`."
                },
                {
                    "name": "distAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `osdConfigMutable()->dist_alarm`."
                },
                {
                    "name": "negAltAlarm",
                    "ctype": "uint16_t",
                    "units": "meters",
                    "desc": "Sets `osdConfigMutable()->neg_alt_alarm`."
                },
                {
                    "name": "gForceAlarm",
                    "ctype": "uint16_t",
                    "units": "G * 1000",
                    "desc": "Sets `osdConfigMutable()->gforce_alarm = value / 1000.0f`."
                },
                {
                    "name": "gForceAxisMinAlarm",
                    "ctype": "int16_t",
                    "units": "G * 1000",
                    "desc": "Sets `osdConfigMutable()->gforce_axis_alarm_min = value / 1000.0f`."
                },
                {
                    "name": "gForceAxisMaxAlarm",
                    "ctype": "int16_t",
                    "units": "G * 1000",
                    "desc": "Sets `osdConfigMutable()->gforce_axis_alarm_max = value / 1000.0f`."
                },
                {
                    "name": "currentAlarm",
                    "ctype": "uint8_t",
                    "units": "0.1 A ?",
                    "desc": "Sets `osdConfigMutable()->current_alarm`."
                },
                {
                    "name": "imuTempMinAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Sets `osdConfigMutable()->imu_temp_alarm_min`."
                },
                {
                    "name": "imuTempMaxAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Sets `osdConfigMutable()->imu_temp_alarm_max`."
                },
                {
                    "name": "baroTempMinAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Sets `osdConfigMutable()->baro_temp_alarm_min` (if `USE_BARO`)."
                },
                {
                    "name": "baroTempMaxAlarm",
                    "ctype": "uint16_t",
                    "units": "degrees C",
                    "desc": "Sets `osdConfigMutable()->baro_temp_alarm_max` (if `USE_BARO`)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_OSD`. Expects 24 bytes. ADSB alarms are not settable via this message.",
        "description": "Sets OSD alarm threshold settings."
    },
    "MSP2_INAV_OSD_PREFERENCES": {
        "code": 8214,
        "hex": "0x2016",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 9,
            "struct": "<BBBBBBBBB",
            "payload": [
                {
                    "name": "videoSystem",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Video system (Auto/PAL/NTSC) (`osdConfig()->video_system`).",
                    "enum": "osdConfig()->video_system"
                },
                {
                    "name": "mainVoltageDecimals",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Count: Decimal places for main voltage display (`osdConfig()->main_voltage_decimals`)."
                },
                {
                    "name": "ahiReverseRoll",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: Reverse roll direction on Artificial Horizon (`osdConfig()->ahi_reverse_roll`)."
                },
                {
                    "name": "crosshairsStyle",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Style of the center crosshairs (`osdConfig()->crosshairs_style`).",
                    "enum": "osdConfig()->crosshairs_style"
                },
                {
                    "name": "leftSidebarScroll",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: Enable scrolling for left sidebar (`osdConfig()->left_sidebar_scroll`)."
                },
                {
                    "name": "rightSidebarScroll",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: Enable scrolling for right sidebar (`osdConfig()->right_sidebar_scroll`)."
                },
                {
                    "name": "sidebarScrollArrows",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: Show arrows for scrollable sidebars (`osdConfig()->sidebar_scroll_arrows`)."
                },
                {
                    "name": "units",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Measurement units (Metric/Imperial) (`osdConfig()->units`).",
                    "enum": "osdConfig()->units"
                },
                {
                    "name": "statsEnergyUnit",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Unit for energy display in post-flight stats (`osdConfig()->stats_energy_unit`).",
                    "enum": "osdConfig()->stats_energy_unit"
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_OSD`.",
        "description": "Retrieves OSD display preferences (video system, units, styles, etc.)."
    },
    "MSP2_INAV_OSD_SET_PREFERENCES": {
        "code": 8215,
        "hex": "0x2017",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BBBBBBBBB",
            "payload": [
                {
                    "name": "videoSystem",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->video_system`."
                },
                {
                    "name": "mainVoltageDecimals",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->main_voltage_decimals`."
                },
                {
                    "name": "ahiReverseRoll",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->ahi_reverse_roll`."
                },
                {
                    "name": "crosshairsStyle",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->crosshairs_style`."
                },
                {
                    "name": "leftSidebarScroll",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->left_sidebar_scroll`."
                },
                {
                    "name": "rightSidebarScroll",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->right_sidebar_scroll`."
                },
                {
                    "name": "sidebarScrollArrows",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->sidebar_scroll_arrows`."
                },
                {
                    "name": "units",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->units`."
                },
                {
                    "name": "statsEnergyUnit",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `osdConfigMutable()->stats_energy_unit`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_OSD`. Expects 9 bytes. Triggers a full OSD redraw.",
        "description": "Sets OSD display preferences."
    },
    "MSP2_INAV_SELECT_BATTERY_PROFILE": {
        "code": 8216,
        "hex": "0x2018",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "batteryProfileIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the battery profile to activate (0-based)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 1 byte. Will fail if armed. Calls `setConfigBatteryProfileAndWriteEEPROM()`.",
        "description": "Selects the active battery profile and saves configuration."
    },
    "MSP2_INAV_DEBUG": {
        "code": 8217,
        "hex": "0x2019",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<",
            "payload": [
                {
                    "name": "debugValues",
                    "ctype": "uint32_t[DEBUG32_VALUE_COUNT]",
                    "units": "",
                    "desc": "Values from the `debug` array (typically 8 values).",
                    "array": true,
                    "array_ctype": "uint32_t",
                    "array_size": "DEBUG32_VALUE_COUNT"
                }
            ]
        },
        "variable_len": true,
        "complex": true,
        "notes": "`DEBUG32_VALUE_COUNT` is usually 8.",
        "description": "Retrieves values from the firmware's 32-bit `debug[]` array. Supersedes `MSP_DEBUG`."
    },
    "MSP2_BLACKBOX_CONFIG": {
        "code": 8218,
        "hex": "0x201a",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 10,
            "struct": "<BBHHI",
            "payload": [
                {
                    "name": "blackboxSupported",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if Blackbox is supported (`USE_BLACKBOX`), 0 otherwise."
                },
                {
                    "name": "blackboxDevice",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`blackboxDevice_e`): Target device for logging (`blackboxConfig()->device`). 0 if not supported.",
                    "enum": "blackboxDevice_e"
                },
                {
                    "name": "blackboxRateNum",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Numerator for logging rate divider (`blackboxConfig()->rate_num`). 0 if not supported."
                },
                {
                    "name": "blackboxRateDenom",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Denominator for logging rate divider (`blackboxConfig()->rate_denom`). 0 if not supported."
                },
                {
                    "name": "blackboxIncludeFlags",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Bitmask: Flags for fields included/excluded from logging (`blackboxConfig()->includeFlags`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_BLACKBOX`.",
        "description": "Retrieves the Blackbox configuration. Supersedes `MSP_BLACKBOX_CONFIG`."
    },
    "MSP2_SET_BLACKBOX_CONFIG": {
        "code": 8219,
        "hex": "0x201b",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<BHHI",
            "payload": [
                {
                    "name": "blackboxDevice",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets `blackboxConfigMutable()->device`."
                },
                {
                    "name": "blackboxRateNum",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `blackboxConfigMutable()->rate_num`."
                },
                {
                    "name": "blackboxRateDenom",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets `blackboxConfigMutable()->rate_denom`."
                },
                {
                    "name": "blackboxIncludeFlags",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Sets `blackboxConfigMutable()->includeFlags`."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_BLACKBOX`. Expects 9 bytes. Returns error if Blackbox is currently logging (`!blackboxMayEditConfig()`).",
        "description": "Sets the Blackbox configuration. Supersedes `MSP_SET_BLACKBOX_CONFIG`."
    },
    "MSP2_INAV_TEMP_SENSOR_CONFIG": {
        "code": 8220,
        "hex": "0x201c",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 15,
            "struct": "<BQHHBs",
            "payload": [
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`tempSensorType_e`): Type of the temperature sensor.",
                    "enum": "tempSensorType_e"
                },
                {
                    "name": "address",
                    "ctype": "uint64_t",
                    "units": "",
                    "desc": "Sensor address/ID (e.g., for 1-Wire sensors)."
                },
                {
                    "name": "alarmMin",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Min temperature alarm threshold (degrees C)."
                },
                {
                    "name": "alarmMax",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Max temperature alarm threshold (degrees C)."
                },
                {
                    "name": "osdSymbol",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index: OSD symbol to use for this sensor (0 to `TEMP_SENSOR_SYM_COUNT`)."
                },
                {
                    "name": "label",
                    "ctype": "char[TEMPERATURE_LABEL_LEN]",
                    "units": "",
                    "desc": "User-defined label for the sensor.",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": "TEMPERATURE_LABEL_LEN"
                }
            ],
            "repeating": "MAX_TEMP_SENSORS"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_TEMPERATURE_SENSOR`.",
        "description": "Retrieves the configuration for all onboard temperature sensors."
    },
    "MSP2_INAV_SET_TEMP_SENSOR_CONFIG": {
        "code": 8221,
        "hex": "0x201d",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BQHHBs",
            "payload": [
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets sensor type."
                },
                {
                    "name": "address",
                    "ctype": "uint64_t",
                    "units": "",
                    "desc": "Sets sensor address/ID."
                },
                {
                    "name": "alarmMin",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets min alarm threshold."
                },
                {
                    "name": "alarmMax",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets max alarm threshold."
                },
                {
                    "name": "osdSymbol",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets OSD symbol index (validated)."
                },
                {
                    "name": "label",
                    "ctype": "char[TEMPERATURE_LABEL_LEN]",
                    "units": "",
                    "desc": "Sets sensor label (converted to uppercase).",
                    "array": true,
                    "array_ctype": "char",
                    "array_size": "TEMPERATURE_LABEL_LEN"
                }
            ],
            "repeating": "MAX_TEMP_SENSORS"
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_TEMPERATURE_SENSOR`. Expects `MAX_TEMP_SENSORS * sizeof(tempSensorConfig_t)` bytes.",
        "description": "Sets the configuration for all onboard temperature sensors."
    },
    "MSP2_INAV_TEMPERATURES": {
        "code": 8222,
        "hex": "0x201e",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 2,
            "struct": "<h",
            "payload": [
                {
                    "name": "temperature",
                    "ctype": "int16_t",
                    "units": "degrees C",
                    "desc": "Current temperature reading. -1000 if sensor is invalid or reading failed."
                }
            ],
            "repeating": "MAX_TEMP_SENSORS"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_TEMPERATURE_SENSOR`.",
        "description": "Retrieves the current readings from all configured temperature sensors."
    },
    "MSP_SIMULATOR": {
        "code": 8223,
        "hex": "0x201f",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 58,
            "struct": "<BBBBIIIHHhhhhhhhhhhhhIhhhBHB",
            "payload": [
                {
                    "name": "simulatorVersion",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Version of the simulator protocol (`SIMULATOR_MSP_VERSION`)."
                },
                {
                    "name": "hitlFlags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Bitmask: Options for HITL (`HITL_*` flags)."
                },
                {
                    "name": "gpsFixType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated GPS fix type."
                },
                {
                    "name": "gpsNumSat",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated satellite count."
                },
                {
                    "name": "gpsLat",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated latitude (1e7 deg)."
                },
                {
                    "name": "gpsLon",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated longitude (1e7 deg)."
                },
                {
                    "name": "gpsAlt",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated altitude (cm)."
                },
                {
                    "name": "gpsSpeed",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated ground speed (cm/s)."
                },
                {
                    "name": "gpsCourse",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated ground course (deci-deg)."
                },
                {
                    "name": "gpsVelN",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated North velocity (cm/s)."
                },
                {
                    "name": "gpsVelE",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated East velocity (cm/s)."
                },
                {
                    "name": "gpsVelD",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated Down velocity (cm/s)."
                },
                {
                    "name": "imuRoll",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "(If NOT `HITL_USE_IMU`) Simulated Roll (deci-deg)."
                },
                {
                    "name": "imuPitch",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "(If NOT `HITL_USE_IMU`) Simulated Pitch (deci-deg)."
                },
                {
                    "name": "imuYaw",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "(If NOT `HITL_USE_IMU`) Simulated Yaw (deci-deg)."
                },
                {
                    "name": "accX",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "mG (G * 1000)"
                },
                {
                    "name": "accY",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "mG (G * 1000)"
                },
                {
                    "name": "accZ",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "mG (G * 1000)"
                },
                {
                    "name": "gyroX",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "dps * 16"
                },
                {
                    "name": "gyroY",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "dps * 16"
                },
                {
                    "name": "gyroZ",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "dps * 16"
                },
                {
                    "name": "baroPressure",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Pa"
                },
                {
                    "name": "magX",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "Scaled"
                },
                {
                    "name": "magY",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "Scaled"
                },
                {
                    "name": "magZ",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "Scaled"
                },
                {
                    "name": "vbat",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If `HITL_EXT_BATTERY_VOLTAGE`) Simulated battery voltage (0.1V units)."
                },
                {
                    "name": "airspeed",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "(If `HITL_AIRSPEED`) Simulated airspeed (cm/s)."
                },
                {
                    "name": "extFlags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If `HITL_EXTENDED_FLAGS`) Additional flags (upper 8 bits)."
                }
            ]
        },
        "reply": {
            "size": 83,
            "struct": "<HHHHBIhhhBBBBBB",
            "payload": [
                {
                    "name": "stabilizedRoll",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Stabilized Roll command output (-500 to 500)."
                },
                {
                    "name": "stabilizedPitch",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Stabilized Pitch command output (-500 to 500)."
                },
                {
                    "name": "stabilizedYaw",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Stabilized Yaw command output (-500 to 500)."
                },
                {
                    "name": "stabilizedThrottle",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Stabilized Throttle command output (-500 to 500 if armed, else -500)."
                },
                {
                    "name": "debugFlags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Packed flags: Debug index (0-7), Platform type, Armed state, OSD feature status."
                },
                {
                    "name": "debugValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Current debug value (`debug[simulatorData.debugIndex]`)."
                },
                {
                    "name": "attitudeRoll",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "Current estimated Roll (deci-deg)."
                },
                {
                    "name": "attitudePitch",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "Current estimated Pitch (deci-deg)."
                },
                {
                    "name": "attitudeYaw",
                    "ctype": "int16_t",
                    "units": "",
                    "desc": "Current estimated Yaw (deci-deg)."
                },
                {
                    "name": "osdHeader",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "OSD RLE Header (255)."
                },
                {
                    "name": "osdRows",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If OSD supported) Number of OSD rows."
                },
                {
                    "name": "osdCols",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If OSD supported) Number of OSD columns."
                },
                {
                    "name": "osdStartY",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If OSD supported) Starting row for RLE data."
                },
                {
                    "name": "osdStartX",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(If OSD supported) Starting column for RLE data."
                },
                {
                    "name": "osdRleData",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "(If OSD supported) Run-length encoded OSD character data. Terminated by `[0, 0]`.",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_SIMULATOR`. Complex message handling state changes for enabling/disabling HITL. Sensor data is injected directly. OSD data is sent using a custom RLE scheme. See `simulatorData` struct and associated code for details.",
        "description": "Handles Hardware-in-the-Loop (HITL) simulation data exchange. Receives simulated sensor data and options, sends back control outputs and debug info."
    },
    "MSP2_INAV_SERVO_MIXER": {
        "code": 8224,
        "hex": "0x2020",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": false,
        "complex": true,
        "notes": "`conditionId` requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the custom servo mixer rules, including programming framework condition IDs, for primary and secondary mixer profiles. Supersedes `MSP_SERVO_MIX_RULES`."
    },
    "MSP2_INAV_SET_SERVO_MIXER": {
        "code": 8225,
        "hex": "0x2021",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 7,
            "struct": "<BBBHBB",
            "payload": [
                {
                    "name": "ruleIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the rule to set (0 to `MAX_SERVO_RULES - 1`)."
                },
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Servo output channel index."
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Input source (`mixerSource_t`).",
                    "enum": "mixerSource_t"
                },
                {
                    "name": "rate",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Mixing rate/weight."
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Speed/Slew rate limit (0-100)."
                },
                {
                    "name": "conditionId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Logic Condition ID (255/-1 if none). Ignored if `USE_PROGRAMMING_FRAMEWORK` is disabled."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 7 bytes. Returns error if index invalid. Calls `loadCustomServoMixer()`.",
        "description": "Sets a single custom servo mixer rule, including programming framework condition ID. Supersedes `MSP_SET_SERVO_MIX_RULE`."
    },
    "MSP2_INAV_LOGIC_CONDITIONS": {
        "code": 8226,
        "hex": "0x2022",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 14,
            "struct": "<BBBBIBIB",
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if the condition is enabled."
                },
                {
                    "name": "activatorId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "ID of the activator condition (if any, 255 if none)."
                },
                {
                    "name": "operation",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`logicConditionOp_e`): Logical operation (AND, OR, XOR, etc.).",
                    "enum": "logicConditionOp_e"
                },
                {
                    "name": "operandAType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`logicOperandType_e`): Type of the first operand (Flight Mode, GVAR, etc.).",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandAValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of the first operand."
                },
                {
                    "name": "operandBType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`logicOperandType_e`): Type of the second operand.",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandBValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of the second operand."
                },
                {
                    "name": "flags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Bitmask: Condition flags (e.g., `LC_FLAG_FIRST_TIME_TRUE`)."
                }
            ],
            "repeating": "MAX_LOGIC_CONDITIONS"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. See `logicCondition_t` structure.",
        "description": "Retrieves the configuration of all defined Logic Conditions."
    },
    "MSP2_INAV_SET_LOGIC_CONDITIONS": {
        "code": 8227,
        "hex": "0x2023",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BBBBBIBIB",
            "payload": [
                {
                    "name": "conditionIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the condition to set (0 to `MAX_LOGIC_CONDITIONS - 1`)."
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 to enable the condition."
                },
                {
                    "name": "activatorId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Activator condition ID."
                },
                {
                    "name": "operation",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Logical operation.",
                    "enum": "?_e"
                },
                {
                    "name": "operandAType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Type of operand A.",
                    "enum": "?_e"
                },
                {
                    "name": "operandAValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of operand A."
                },
                {
                    "name": "operandBType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Type of operand B.",
                    "enum": "?_e"
                },
                {
                    "name": "operandBValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of operand B."
                },
                {
                    "name": "flags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Bitmask: Condition flags."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Expects 15 bytes. Returns error if index is invalid.",
        "description": "Sets the configuration for a single Logic Condition by its index."
    },
    "MSP2_INAV_GLOBAL_FUNCTIONS": {
        "hex": "0x2024",
        "code": 8228,
        "mspv": 2,
        "implemented": false
    },
    "MSP2_INAV_SET_GLOBAL_FUNCTIONS": {
        "hex": "0x2025",
        "code": 8229,
        "mspv": 2,
        "implemented": false
    },
    "MSP2_INAV_LOGIC_CONDITIONS_STATUS": {
        "code": 8230,
        "hex": "0x2026",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
            "payload": [
                {
                    "name": "conditionValues",
                    "ctype": "uint32_t[MAX_LOGIC_CONDITIONS]",
                    "units": "",
                    "desc": "Array of current values for each logic condition (`logicConditionGetValue(i)`). 1 for true, 0 for false, or numerical value depending on operation.",
                    "array": true,
                    "array_ctype": "uint32_t",
                    "array_size": "MAX_LOGIC_CONDITIONS"
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the current evaluated status (true/false or numerical value) of all logic conditions."
    },
    "MSP2_INAV_GVAR_STATUS": {
        "code": 8231,
        "hex": "0x2027",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<IIIIIIII",
            "payload": [
                {
                    "name": "gvarValues",
                    "ctype": "uint32_t[MAX_GLOBAL_VARIABLES]",
                    "units": "",
                    "desc": "Array of current values for each global variable (`gvGet(i)`).",
                    "array": true,
                    "array_ctype": "uint32_t",
                    "array_size": "MAX_GLOBAL_VARIABLES"
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the current values of all Global Variables (GVARS)."
    },
    "MSP2_INAV_PROGRAMMING_PID": {
        "code": 8232,
        "hex": "0x2028",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 19,
            "struct": "<BBIBIHHHH",
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if the PID is enabled."
                },
                {
                    "name": "setpointType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`logicOperandType_e`): Type of the setpoint source.",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "setpointValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of the setpoint source."
                },
                {
                    "name": "measurementType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`logicOperandType_e`): Type of the measurement source.",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "measurementValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of the measurement source."
                },
                {
                    "name": "gainP",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Proportional gain."
                },
                {
                    "name": "gainI",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Integral gain."
                },
                {
                    "name": "gainD",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Derivative gain."
                },
                {
                    "name": "gainFF",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Feed-forward gain."
                }
            ],
            "repeating": "MAX_PROGRAMMING_PID_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. See `programmingPid_t` structure.",
        "description": "Retrieves the configuration of all Programming PIDs."
    },
    "MSP2_INAV_SET_PROGRAMMING_PID": {
        "code": 8233,
        "hex": "0x2029",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 20,
            "struct": "<BBBIBIHHHH",
            "payload": [
                {
                    "name": "pidIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the Programming PID to set (0 to `MAX_PROGRAMMING_PID_COUNT - 1`)."
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 to enable the PID."
                },
                {
                    "name": "setpointType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Type of the setpoint source.",
                    "enum": "?_e"
                },
                {
                    "name": "setpointValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of the setpoint source."
                },
                {
                    "name": "measurementType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Type of the measurement source.",
                    "enum": "?_e"
                },
                {
                    "name": "measurementValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of the measurement source."
                },
                {
                    "name": "gainP",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Proportional gain."
                },
                {
                    "name": "gainI",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Integral gain."
                },
                {
                    "name": "gainD",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Derivative gain."
                },
                {
                    "name": "gainFF",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Feed-forward gain."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Expects 20 bytes. Returns error if index is invalid.",
        "description": "Sets the configuration for a single Programming PID by its index."
    },
    "MSP2_INAV_PROGRAMMING_PID_STATUS": {
        "code": 8234,
        "hex": "0x202a",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<IIII",
            "payload": [
                {
                    "name": "pidOutputs",
                    "ctype": "uint32_t[MAX_PROGRAMMING_PID_COUNT]",
                    "units": "",
                    "desc": "Array of current output values for each Programming PID (`programmingPidGetOutput(i)`).",
                    "array": true,
                    "array_ctype": "uint32_t",
                    "array_size": "MAX_PROGRAMMING_PID_COUNT"
                }
            ]
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the current output value of all Programming PIDs."
    },
    "MSP2_PID": {
        "code": 8240,
        "hex": "0x2030",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "P",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Proportional gain (`pidBank()->pid[i].P`), constrained 0-255."
                },
                {
                    "name": "I",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Integral gain (`pidBank()->pid[i].I`), constrained 0-255."
                },
                {
                    "name": "D",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Derivative gain (`pidBank()->pid[i].D`), constrained 0-255."
                },
                {
                    "name": "FF",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Feed-forward gain (`pidBank()->pid[i].FF`), constrained 0-255."
                }
            ],
            "repeating": "PID_ITEM_COUNT"
        },
        "variable_len": true,
        "complex": false,
        "notes": "`PID_ITEM_COUNT` defines the number of standard PID controllers (Roll, Pitch, Yaw, Alt, Vel, etc.). Updates from EZ-Tune if enabled.",
        "description": "Retrieves the standard PID controller gains (P, I, D, FF) for the current PID profile."
    },
    "MSP2_SET_PID": {
        "code": 8241,
        "hex": "0x2031",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<BBBB",
            "payload": [
                {
                    "name": "P",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets Proportional gain (`pidBankMutable()->pid[i].P`)."
                },
                {
                    "name": "I",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets Integral gain (`pidBankMutable()->pid[i].I`)."
                },
                {
                    "name": "D",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets Derivative gain (`pidBankMutable()->pid[i].D`)."
                },
                {
                    "name": "FF",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets Feed-forward gain (`pidBankMutable()->pid[i].FF`)."
                }
            ],
            "repeating": "PID_ITEM_COUNT"
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Expects `PID_ITEM_COUNT * 4` bytes. Calls `schedulePidGainsUpdate()` and `navigationUsePIDs()`.",
        "description": "Sets the standard PID controller gains (P, I, D, FF) for the current PID profile."
    },
    "MSP2_INAV_OPFLOW_CALIBRATION": {
        "code": 8242,
        "hex": "0x2032",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_OPFLOW`. Will fail if armed. Calls `opflowStartCalibration()`.",
        "description": "Starts the optical flow sensor calibration procedure."
    },
    "MSP2_INAV_FWUPDT_PREPARE": {
        "code": 8243,
        "hex": "0x2033",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "firmwareSize",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Total size of the incoming firmware file in bytes."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Expects 4 bytes. Returns error if preparation fails (e.g., no storage, invalid size). Calls `firmwareUpdatePrepare()`.",
        "description": "Prepares the flight controller to receive a firmware update via MSP."
    },
    "MSP2_INAV_FWUPDT_STORE": {
        "code": 8244,
        "hex": "0x2034",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "firmwareChunk",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Chunk of firmware data.",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Returns error if storage fails (e.g., out of space, checksum error). Called repeatedly until the entire firmware is transferred. Calls `firmwareUpdateStore()`.",
        "description": "Stores a chunk of firmware data received via MSP."
    },
    "MSP2_INAV_FWUPDT_EXEC": {
        "code": 8245,
        "hex": "0x2035",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "updateType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Type of update (e.g., full flash, specific section - currently ignored/unused)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Expects 1 byte. Returns error if update cannot start (e.g., not fully received). Calls `firmwareUpdateExec()`. If successful, the device will reboot into the new firmware.",
        "description": "Executes the firmware update process (flashes the stored firmware and reboots)."
    },
    "MSP2_INAV_FWUPDT_ROLLBACK_PREPARE": {
        "code": 8246,
        "hex": "0x2036",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Returns error if rollback preparation fails (e.g., no rollback image available). Calls `firmwareUpdateRollbackPrepare()`.",
        "description": "Prepares the flight controller to perform a firmware rollback to the previously stored version."
    },
    "MSP2_INAV_FWUPDT_ROLLBACK_EXEC": {
        "code": 8247,
        "hex": "0x2037",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Returns error if rollback cannot start. Calls `firmwareUpdateRollbackExec()`. If successful, the device will reboot into the backup firmware.",
        "description": "Executes the firmware rollback process (flashes the stored backup firmware and reboots)."
    },
    "MSP2_INAV_SAFEHOME": {
        "code": 8248,
        "hex": "0x2038",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "safehomeIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the safe home location (0 to `MAX_SAFE_HOMES - 1`)."
                }
            ]
        },
        "reply": {
            "size": 11,
            "struct": "<BBii",
            "payload": [
                {
                    "name": "safehomeIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index requested."
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if this safe home is enabled."
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Latitude (1e7 deg)."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Longitude (1e7 deg)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_SAFE_HOME`. Used by `mspFcSafeHomeOutCommand`. See `MSP2_INAV_SET_SAFEHOME` for setting.",
        "description": "Get or Set configuration for a specific Safe Home location."
    },
    "MSP2_INAV_SET_SAFEHOME": {
        "code": 8249,
        "hex": "0x2039",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 10,
            "struct": "<BBii",
            "payload": [
                {
                    "name": "safehomeIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the safe home location (0 to `MAX_SAFE_HOMES - 1`)."
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 to enable this safe home."
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Latitude (1e7 deg)."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Longitude (1e7 deg)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_SAFE_HOME`. Expects 10 bytes. Returns error if index invalid. Resets corresponding FW autoland approach if `USE_FW_AUTOLAND` is enabled.",
        "description": "Sets the configuration for a specific Safe Home location."
    },
    "MSP2_INAV_MISC2": {
        "code": 8250,
        "hex": "0x203a",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 10,
            "struct": "<IIBB",
            "payload": [
                {
                    "name": "uptimeSeconds",
                    "ctype": "uint32_t",
                    "units": "Seconds",
                    "desc": "Time since boot (`micros() / 1000000`)."
                },
                {
                    "name": "flightTimeSeconds",
                    "ctype": "uint32_t",
                    "units": "Seconds",
                    "desc": "Accumulated flight time (`getFlightTime()`)."
                },
                {
                    "name": "throttlePercent",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Current throttle output percentage (`getThrottlePercent(true)`)."
                },
                {
                    "name": "autoThrottleFlag",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "1 if navigation is controlling throttle, 0 otherwise (`navigationIsControllingThrottle()`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "",
        "description": "Retrieves miscellaneous runtime information including timers and throttle status."
    },
    "MSP2_INAV_LOGIC_CONDITIONS_SINGLE": {
        "code": 8251,
        "hex": "0x203b",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "conditionIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the condition to retrieve (0 to `MAX_LOGIC_CONDITIONS - 1`)."
                }
            ]
        },
        "reply": {
            "size": 15,
            "struct": "<BBBBIBIB",
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if enabled."
                },
                {
                    "name": "activatorId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Activator ID."
                },
                {
                    "name": "operation",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Logical operation.",
                    "enum": "?_e"
                },
                {
                    "name": "operandAType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Type of operand A.",
                    "enum": "?_e"
                },
                {
                    "name": "operandAValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of operand A."
                },
                {
                    "name": "operandBType",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum: Type of operand B.",
                    "enum": "?_e"
                },
                {
                    "name": "operandBValue",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Value/ID of operand B."
                },
                {
                    "name": "flags",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Bitmask: Condition flags."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Used by `mspFcLogicConditionCommand`.",
        "description": "Gets the configuration for a single Logic Condition by its index."
    },
    "MSP2_INAV_ESC_RPM": {
        "code": 8256,
        "hex": "0x2040",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 4,
            "struct": "<I",
            "payload": [
                {
                    "name": "escRpm",
                    "ctype": "uint32_t",
                    "units": "RPM",
                    "desc": "RPM reported by the ESC."
                }
            ],
            "repeating": "getMotorCount()"
        },
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_ESC_SENSOR`. Payload size depends on the number of detected motors with telemetry.",
        "description": "Retrieves the RPM reported by each ESC via telemetry."
    },
    "MSP2_INAV_ESC_TELEM": {
        "code": 8257,
        "hex": "0x2041",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "motorCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of motors reporting telemetry (`getMotorCount()`)."
                },
                {
                    "name": "escData",
                    "ctype": "escSensorData_t[]",
                    "units": "",
                    "desc": "Array of `escSensorData_t` structures containing voltage, current, temp, RPM, errors etc. for each ESC.",
                    "array": true,
                    "array_ctype": "escSensorData_t",
                    "array_size": 0
                }
            ]
        },
        "variable_len": true,
        "complex": true,
        "notes": "Requires `USE_ESC_SENSOR`. See `escSensorData_t` in `sensors/esc_sensor.h` for the exact structure fields.",
        "description": "Retrieves the full telemetry data structure reported by each ESC."
    },
    "MSP2_INAV_LED_STRIP_CONFIG_EX": {
        "code": 8264,
        "hex": "0x2048",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 0,
            "struct": "<",
            "payload": [
                {
                    "name": "ledConfig",
                    "ctype": "ledConfig_t",
                    "units": "",
                    "desc": "Full configuration structure for the LED."
                }
            ],
            "repeating": "LED_MAX_STRIP_LENGTH"
        },
        "variable_len": true,
        "complex": true,
        "notes": "Requires `USE_LED_STRIP`. See `ledConfig_t` in `io/ledstrip.h` for structure fields (position, function, overlay, color, direction, params).",
        "description": "Retrieves the full configuration for each LED on the strip using the `ledConfig_t` structure. Supersedes `MSP_LED_STRIP_CONFIG`."
    },
    "MSP2_INAV_SET_LED_STRIP_CONFIG_EX": {
        "code": 8265,
        "hex": "0x2049",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "ledIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the LED to configure (0 to `LED_MAX_STRIP_LENGTH - 1`)."
                },
                {
                    "name": "ledConfig",
                    "ctype": "ledConfig_t",
                    "units": "",
                    "desc": "Full configuration structure for the LED."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": true,
        "notes": "Requires `USE_LED_STRIP`. Expects `1 + sizeof(ledConfig_t)` bytes. Returns error if index invalid. Calls `reevaluateLedConfig()`.",
        "description": "Sets the configuration for a single LED on the strip using the `ledConfig_t` structure. Supersedes `MSP_SET_LED_STRIP_CONFIG`."
    },
    "MSP2_INAV_FW_APPROACH": {
        "code": 8266,
        "hex": "0x204a",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "approachIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the approach setting (0 to `MAX_FW_LAND_APPOACH_SETTINGS - 1`)."
                }
            ]
        },
        "reply": {
            "size": 16,
            "struct": "<BIIBhhB",
            "payload": [
                {
                    "name": "approachIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index requested."
                },
                {
                    "name": "approachAlt",
                    "ctype": "uint32_t",
                    "units": "cm",
                    "desc": "Altitude for the approach phase."
                },
                {
                    "name": "landAlt",
                    "ctype": "uint32_t",
                    "units": "cm",
                    "desc": "Altitude for the final landing phase."
                },
                {
                    "name": "approachDirection",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Direction of approach (From WP, Specific Heading).",
                    "enum": "?_e"
                },
                {
                    "name": "landHeading1",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Primary landing heading (if approachDirection requires it)."
                },
                {
                    "name": "landHeading2",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Secondary landing heading (if approachDirection requires it)."
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "1 if altitudes are relative to sea level, 0 if relative to home."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_FW_AUTOLAND`. Used by `mspFwApproachOutCommand`. See `MSP2_INAV_SET_FW_APPROACH` for setting.",
        "description": "Get or Set configuration for a specific Fixed Wing Autoland approach."
    },
    "MSP2_INAV_SET_FW_APPROACH": {
        "code": 8267,
        "hex": "0x204b",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 15,
            "struct": "<BIIBhhB",
            "payload": [
                {
                    "name": "approachIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the approach setting (0 to `MAX_FW_LAND_APPOACH_SETTINGS - 1`)."
                },
                {
                    "name": "approachAlt",
                    "ctype": "uint32_t",
                    "units": "cm",
                    "desc": "Sets approach altitude."
                },
                {
                    "name": "landAlt",
                    "ctype": "uint32_t",
                    "units": "cm",
                    "desc": "Sets landing altitude."
                },
                {
                    "name": "approachDirection",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Sets approach direction.",
                    "enum": "?_e"
                },
                {
                    "name": "landHeading1",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Sets primary landing heading."
                },
                {
                    "name": "landHeading2",
                    "ctype": "int16_t",
                    "units": "degrees",
                    "desc": "Sets secondary landing heading."
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "units": "Boolean",
                    "desc": "Sets altitude reference."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_FW_AUTOLAND`. Expects 15 bytes. Returns error if index invalid.",
        "description": "Sets the configuration for a specific Fixed Wing Autoland approach."
    },
    "MSP2_INAV_GPS_UBLOX_COMMAND": {
        "code": 8272,
        "hex": "0x2050",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "ubxCommand",
                    "ctype": "uint8_t[]",
                    "units": "",
                    "desc": "Raw U-Blox UBX protocol command frame (including header, class, ID, length, payload, checksum).",
                    "array": true,
                    "array_ctype": "uint8_t",
                    "array_size": 0
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires GPS feature enabled (`FEATURE_GPS`) and the GPS driver to be U-Blox (`isGpsUblox()`). Payload must be at least 8 bytes (minimum UBX frame size). Use with extreme caution, incorrect commands can misconfigure the GPS module. Calls `gpsUbloxSendCommand()`.",
        "description": "Sends a raw command directly to a U-Blox GPS module connected to the FC."
    },
    "MSP2_INAV_RATE_DYNAMICS": {
        "code": 8288,
        "hex": "0x2060",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 6,
            "struct": "<BBBBBB",
            "payload": [
                {
                    "name": "sensitivityCenter",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sensitivity at stick center (`currentControlRateProfile->rateDynamics.sensitivityCenter`)."
                },
                {
                    "name": "sensitivityEnd",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sensitivity at stick ends (`currentControlRateProfile->rateDynamics.sensitivityEnd`)."
                },
                {
                    "name": "correctionCenter",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Correction strength at stick center (`currentControlRateProfile->rateDynamics.correctionCenter`)."
                },
                {
                    "name": "correctionEnd",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Correction strength at stick ends (`currentControlRateProfile->rateDynamics.correctionEnd`)."
                },
                {
                    "name": "weightCenter",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Transition weight at stick center (`currentControlRateProfile->rateDynamics.weightCenter`)."
                },
                {
                    "name": "weightEnd",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Transition weight at stick ends (`currentControlRateProfile->rateDynamics.weightEnd`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_RATE_DYNAMICS`.",
        "description": "Retrieves Rate Dynamics configuration parameters for the current control rate profile."
    },
    "MSP2_INAV_SET_RATE_DYNAMICS": {
        "code": 8289,
        "hex": "0x2061",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 6,
            "struct": "<BBBBBB",
            "payload": [
                {
                    "name": "sensitivityCenter",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets sensitivity at center."
                },
                {
                    "name": "sensitivityEnd",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets sensitivity at ends."
                },
                {
                    "name": "correctionCenter",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets correction at center."
                },
                {
                    "name": "correctionEnd",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets correction at ends."
                },
                {
                    "name": "weightCenter",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets weight at center."
                },
                {
                    "name": "weightEnd",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets weight at ends."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_RATE_DYNAMICS`. Expects 6 bytes.",
        "description": "Sets Rate Dynamics configuration parameters for the current control rate profile."
    },
    "MSP2_INAV_EZ_TUNE": {
        "code": 8304,
        "hex": "0x2070",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 11,
            "struct": "<BHBBBBBBBB",
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if EZ-Tune is enabled (`ezTune()->enabled`)."
                },
                {
                    "name": "filterHz",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Filter frequency used during tuning (`ezTune()->filterHz`)."
                },
                {
                    "name": "axisRatio",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Roll vs Pitch axis tuning ratio (`ezTune()->axisRatio`)."
                },
                {
                    "name": "response",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Desired response characteristic (`ezTune()->response`)."
                },
                {
                    "name": "damping",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Desired damping characteristic (`ezTune()->damping`)."
                },
                {
                    "name": "stability",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Stability preference (`ezTune()->stability`)."
                },
                {
                    "name": "aggressiveness",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Aggressiveness preference (`ezTune()->aggressiveness`)."
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Resulting rate setting (`ezTune()->rate`)."
                },
                {
                    "name": "expo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Resulting expo setting (`ezTune()->expo`)."
                },
                {
                    "name": "snappiness",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Snappiness preference (`ezTune()->snappiness`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_EZ_TUNE`. Calls `ezTuneUpdate()` before sending.",
        "description": "Retrieves the current EZ-Tune parameters."
    },
    "MSP2_INAV_EZ_TUNE_SET": {
        "code": 8305,
        "hex": "0x2071",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 11,
            "struct": "<BHBBBBBBBB",
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets enabled state."
                },
                {
                    "name": "filterHz",
                    "ctype": "uint16_t",
                    "units": "",
                    "desc": "Sets filter frequency."
                },
                {
                    "name": "axisRatio",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets axis ratio."
                },
                {
                    "name": "response",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets response characteristic."
                },
                {
                    "name": "damping",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets damping characteristic."
                },
                {
                    "name": "stability",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets stability preference."
                },
                {
                    "name": "aggressiveness",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets aggressiveness preference."
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets rate setting."
                },
                {
                    "name": "expo",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Sets expo setting."
                },
                {
                    "name": "snappiness",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "(Optional) Sets snappiness preference.",
                    "optional": true
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_EZ_TUNE`. Expects 10 or 11 bytes. Calls `ezTuneUpdate()` after setting parameters.",
        "description": "Sets the EZ-Tune parameters and triggers an update."
    },
    "MSP2_INAV_SELECT_MIXER_PROFILE": {
        "code": 8320,
        "hex": "0x2080",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "mixerProfileIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the mixer profile to activate (0-based)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 1 byte. Will fail if armed. Calls `setConfigMixerProfileAndWriteEEPROM()`. Only applicable if `MAX_MIXER_PROFILE_COUNT` > 1.",
        "description": "Selects the active mixer profile and saves configuration."
    },
    "MSP2_ADSB_VEHICLE_LIST": {
        "code": 8336,
        "hex": "0x2090",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_ADSB`.",
        "description": "Retrieves the list of currently tracked ADSB (Automatic Dependent Surveillance\u2013Broadcast) vehicles."
    },
    "MSP2_INAV_CUSTOM_OSD_ELEMENTS": {
        "code": 8448,
        "hex": "0x2100",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 3,
            "struct": "<BBB",
            "payload": [
                {
                    "name": "maxElements",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Maximum number of custom elements (`MAX_CUSTOM_ELEMENTS`)."
                },
                {
                    "name": "maxTextLength",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Maximum length of the text part (`OSD_CUSTOM_ELEMENT_TEXT_SIZE - 1`)."
                },
                {
                    "name": "maxParts",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Maximum number of parts per element (`CUSTOM_ELEMENTS_PARTS`)."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves counts related to custom OSD elements defined by the programming framework."
    },
    "MSP2_INAV_CUSTOM_OSD_ELEMENT": {
        "code": 8449,
        "hex": "0x2101",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "elementIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the custom element (0 to `MAX_CUSTOM_ELEMENTS - 1`)."
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. See `osdCustomElement_t`.",
        "description": "Gets the configuration of a single custom OSD element defined by the programming framework."
    },
    "MSP2_INAV_SET_CUSTOM_OSD_ELEMENTS": {
        "code": 8450,
        "hex": "0x2102",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": true,
        "complex": false,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Expects `1 + (CUSTOM_ELEMENTS_PARTS * 3) + 3 + (OSD_CUSTOM_ELEMENT_TEXT_SIZE - 1)` bytes. Returns error if index or part type is invalid. Null-terminates the text internally.",
        "description": "Sets the configuration of a single custom OSD element defined by the programming framework."
    },
    "MSP2_INAV_SERVO_CONFIG": {
        "code": 8704,
        "hex": "0x2200",
        "mspv": 2,
        "direction": 1,
        "request": null,
        "reply": {
            "size": 7,
            "struct": "<HHHB",
            "payload": [
                {
                    "name": "min",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Minimum servo endpoint (`servoParams(i)->min`)."
                },
                {
                    "name": "max",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Maximum servo endpoint (`servoParams(i)->max`)."
                },
                {
                    "name": "middle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Middle/Neutral servo position (`servoParams(i)->middle`)."
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "units": "% (-100 to 100)",
                    "desc": "Servo rate/scaling (`servoParams(i)->rate`)."
                }
            ],
            "repeating": "MAX_SUPPORTED_SERVOS"
        },
        "variable_len": true,
        "complex": false,
        "notes": "",
        "description": "Retrieves the configuration parameters for all supported servos (min, max, middle, rate). Supersedes `MSP_SERVO_CONFIGURATIONS`."
    },
    "MSP2_INAV_SET_SERVO_CONFIG": {
        "code": 8705,
        "hex": "0x2201",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 8,
            "struct": "<BHHHB",
            "payload": [
                {
                    "name": "servoIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Index of the servo to configure (0 to `MAX_SUPPORTED_SERVOS - 1`)."
                },
                {
                    "name": "min",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets minimum servo endpoint."
                },
                {
                    "name": "max",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets maximum servo endpoint."
                },
                {
                    "name": "middle",
                    "ctype": "uint16_t",
                    "units": "PWM",
                    "desc": "Sets middle/neutral servo position."
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "units": "%",
                    "desc": "Sets servo rate/scaling."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Expects 8 bytes. Returns error if index invalid. Calls `servoComputeScalingFactors()`.",
        "description": "Sets the configuration parameters for a single servo. Supersedes `MSP_SET_SERVO_CONFIGURATION`."
    },
    "MSP2_INAV_GEOZONE": {
        "code": 8720,
        "hex": "0x2210",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 1,
            "struct": "<B",
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the geozone (0 to `MAX_GEOZONES_IN_CONFIG - 1`)."
                }
            ]
        },
        "reply": {
            "size": 15,
            "struct": "<BBBIIBBB",
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index requested."
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`GEOZONE_TYPE_*`): Zone type (Inclusion/Exclusion).",
                    "enum": "GEOZONE_TYPE_*"
                },
                {
                    "name": "shape",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`GEOZONE_SHAPE_*`): Zone shape (Polygon/Circular).",
                    "enum": "GEOZONE_SHAPE_*"
                },
                {
                    "name": "minAltitude",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Minimum allowed altitude within the zone (cm)."
                },
                {
                    "name": "maxAltitude",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Maximum allowed altitude within the zone (cm)."
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: 1 if altitudes are relative to sea level, 0 if relative to home."
                },
                {
                    "name": "fenceAction",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`GEOZONE_ACTION_*`): Action to take upon boundary violation.",
                    "enum": "GEOZONE_ACTION_*"
                },
                {
                    "name": "vertexCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of vertices defined for this zone."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_GEOZONE`. Used by `mspFcGeozoneOutCommand`.",
        "description": "Get configuration for a specific Geozone."
    },
    "MSP2_INAV_SET_GEOZONE": {
        "code": 8721,
        "hex": "0x2211",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 14,
            "struct": "<BBBIIBBB",
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the geozone (0 to `MAX_GEOZONES_IN_CONFIG - 1`)."
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`GEOZONE_TYPE_*`): Zone type.",
                    "enum": "GEOZONE_TYPE_*"
                },
                {
                    "name": "shape",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`GEOZONE_SHAPE_*`): Zone shape.",
                    "enum": "GEOZONE_SHAPE_*"
                },
                {
                    "name": "minAltitude",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Minimum allowed altitude (cm)."
                },
                {
                    "name": "maxAltitude",
                    "ctype": "uint32_t",
                    "units": "",
                    "desc": "Maximum allowed altitude (cm)."
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Boolean: Altitude reference."
                },
                {
                    "name": "fenceAction",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Enum (`GEOZONE_ACTION_*`): Fence action.",
                    "enum": "GEOZONE_ACTION_*"
                },
                {
                    "name": "vertexCount",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Number of vertices to be defined (used for validation later)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_GEOZONE`. Expects 14 bytes. Returns error if index invalid. Calls `geozoneResetVertices()`. Vertices must be set subsequently using `MSP2_INAV_SET_GEOZONE_VERTEX`.",
        "description": "Sets the main configuration for a specific Geozone (type, shape, altitude, action). **This command resets (clears) all vertices associated with the zone.**"
    },
    "MSP2_INAV_GEOZONE_VERTEX": {
        "code": 8722,
        "hex": "0x2212",
        "mspv": 2,
        "direction": 2,
        "request": {
            "size": 2,
            "struct": "<BB",
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the geozone."
                },
                {
                    "name": "vertexId",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Index of the vertex within the zone (0-based). For circles, 0 = center."
                }
            ]
        },
        "reply": {
            "size": 12,
            "struct": "<BBii",
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Geozone index requested."
                },
                {
                    "name": "vertexId",
                    "ctype": "uint8_t",
                    "units": "Index",
                    "desc": "Vertex index requested."
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Vertex latitude."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Vertex longitude."
                }
            ]
        },
        "variable_len": false,
        "complex": false,
        "notes": "Requires `USE_GEOZONE`. Returns error if indexes are invalid or vertex doesn't exist. For circular zones, the radius is stored internally as the 'latitude' of the vertex with index 1.",
        "description": "Get a specific vertex (or center+radius for circular zones) of a Geozone."
    },
    "MSP2_INAV_SET_GEOZONE_VERTEX": {
        "code": 8723,
        "hex": "0x2213",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": false,
        "complex": true,
        "notes": "Requires `USE_GEOZONE`. Expects 10 bytes (Polygon) or 14 bytes (Circular). Returns error if indexes invalid or if trying to set vertex beyond `vertexCount` defined in `MSP2_INAV_SET_GEOZONE`. Calls `geozoneSetVertex()`. For circular zones, sets center (vertex 0) and radius (vertex 1's latitude).",
        "description": "Sets a specific vertex (or center+radius for circular zones) for a Geozone."
    },
    "MSP2_BETAFLIGHT_BIND": {
        "code": 12288,
        "hex": "0x3000",
        "mspv": 2,
        "direction": 0,
        "request": null,
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `rxConfig()->receiverType == RX_TYPE_SERIAL`. Requires `USE_SERIALRX_CRSF` or `USE_SERIALRX_SRXL2`. Calls `crsfBind()` or `srxl2Bind()` respectively. Returns error if receiver type or provider is not supported for binding.",
        "description": "Initiates the receiver binding procedure for supported serial protocols (CRSF, SRXL2)."
    },
    "MSP2_SENSOR_RANGEFINDER": {
        "code": 7937,
        "hex": "0x1f01",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 5,
            "struct": "<Bi",
            "payload": [
                {
                    "name": "quality",
                    "ctype": "uint8_t",
                    "units": "0-255",
                    "desc": "Quality of the measurement."
                },
                {
                    "name": "distanceMm",
                    "ctype": "int32_t",
                    "units": "mm",
                    "desc": "Measured distance. Negative value indicates out of range."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_RANGEFINDER_MSP`. Calls `mspRangefinderReceiveNewData()`.",
        "description": "Provides rangefinder data (distance, quality) from an external MSP-based sensor."
    },
    "MSP2_SENSOR_OPTIC_FLOW": {
        "code": 7938,
        "hex": "0x1f02",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 9,
            "struct": "<Bii",
            "payload": [
                {
                    "name": "quality",
                    "ctype": "uint8_t",
                    "units": "",
                    "desc": "Quality of the measurement (0-255)."
                },
                {
                    "name": "motionX",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Raw integrated flow value X."
                },
                {
                    "name": "motionY",
                    "ctype": "int32_t",
                    "units": "",
                    "desc": "Raw integrated flow value Y."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_OPFLOW_MSP`. Calls `mspOpflowReceiveNewData()`.",
        "description": "Provides optical flow data (motion, quality) from an external MSP-based sensor."
    },
    "MSP2_SENSOR_GPS": {
        "code": 7939,
        "hex": "0x1f03",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 52,
            "struct": "<BHIBBHHHHiiiiiiHHHBBBBB",
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Sensor instance number (for multi-GPS)."
                },
                {
                    "name": "gpsWeek",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "GPS week number (0xFFFF if unavailable)."
                },
                {
                    "name": "msTOW",
                    "ctype": "uint32_t",
                    "units": "ms",
                    "desc": "Milliseconds Time of Week."
                },
                {
                    "name": "fixType",
                    "ctype": "uint8_t",
                    "units": "Enum",
                    "desc": "Type of GPS fix.",
                    "enum": "?_e"
                },
                {
                    "name": "satellitesInView",
                    "ctype": "uint8_t",
                    "units": "Count",
                    "desc": "Number of satellites used in solution."
                },
                {
                    "name": "hPosAccuracy",
                    "ctype": "uint16_t",
                    "units": "cm",
                    "desc": "Horizontal position accuracy estimate."
                },
                {
                    "name": "vPosAccuracy",
                    "ctype": "uint16_t",
                    "units": "cm",
                    "desc": "Vertical position accuracy estimate."
                },
                {
                    "name": "hVelAccuracy",
                    "ctype": "uint16_t",
                    "units": "cm/s",
                    "desc": "Horizontal velocity accuracy estimate."
                },
                {
                    "name": "hdop",
                    "ctype": "uint16_t",
                    "units": "HDOP * 100",
                    "desc": "Horizontal Dilution of Precision."
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Longitude."
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "units": "deg * 1e7",
                    "desc": "Latitude."
                },
                {
                    "name": "mslAltitude",
                    "ctype": "int32_t",
                    "units": "cm",
                    "desc": "Altitude above Mean Sea Level."
                },
                {
                    "name": "nedVelNorth",
                    "ctype": "int32_t",
                    "units": "cm/s",
                    "desc": "North velocity (NED frame)."
                },
                {
                    "name": "nedVelEast",
                    "ctype": "int32_t",
                    "units": "cm/s",
                    "desc": "East velocity (NED frame)."
                },
                {
                    "name": "nedVelDown",
                    "ctype": "int32_t",
                    "units": "cm/s",
                    "desc": "Down velocity (NED frame)."
                },
                {
                    "name": "groundCourse",
                    "ctype": "uint16_t",
                    "units": "deg * 100",
                    "desc": "Ground course (0-36000)."
                },
                {
                    "name": "trueYaw",
                    "ctype": "uint16_t",
                    "units": "deg * 100",
                    "desc": "True heading/yaw (0-36000, 65535 if unavailable)."
                },
                {
                    "name": "year",
                    "ctype": "uint16_t",
                    "units": "-",
                    "desc": "Year (e.g., 2023)."
                },
                {
                    "name": "month",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Month (1-12)."
                },
                {
                    "name": "day",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Day of month (1-31)."
                },
                {
                    "name": "hour",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Hour (0-23)."
                },
                {
                    "name": "min",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Minute (0-59)."
                },
                {
                    "name": "sec",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Second (0-59)."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_GPS_PROTO_MSP`. Calls `mspGPSReceiveNewData()`.",
        "description": "Provides detailed GPS data from an external MSP-based GPS module."
    },
    "MSP2_SENSOR_COMPASS": {
        "code": 7940,
        "hex": "0x1f04",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 11,
            "struct": "<BIhhh",
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Sensor instance number."
                },
                {
                    "name": "timeMs",
                    "ctype": "uint32_t",
                    "units": "ms",
                    "desc": "Timestamp from the sensor."
                },
                {
                    "name": "magX",
                    "ctype": "int16_t",
                    "units": "mGauss",
                    "desc": "Front component reading."
                },
                {
                    "name": "magY",
                    "ctype": "int16_t",
                    "units": "mGauss",
                    "desc": "Right component reading."
                },
                {
                    "name": "magZ",
                    "ctype": "int16_t",
                    "units": "mGauss",
                    "desc": "Down component reading."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_MAG_MSP`. Calls `mspMagReceiveNewData()`.",
        "description": "Provides magnetometer data from an external MSP-based compass module."
    },
    "MSP2_SENSOR_BAROMETER": {
        "code": 7941,
        "hex": "0x1f05",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 11,
            "struct": "<BIfh",
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Sensor instance number."
                },
                {
                    "name": "timeMs",
                    "ctype": "uint32_t",
                    "units": "ms",
                    "desc": "Timestamp from the sensor."
                },
                {
                    "name": "pressurePa",
                    "ctype": "float",
                    "units": "Pa",
                    "desc": "Absolute pressure."
                },
                {
                    "name": "temp",
                    "ctype": "int16_t",
                    "units": "0.01 deg C",
                    "desc": "Temperature."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_BARO_MSP`. Calls `mspBaroReceiveNewData()`.",
        "description": "Provides barometer data from an external MSP-based barometer module."
    },
    "MSP2_SENSOR_AIRSPEED": {
        "code": 7942,
        "hex": "0x1f06",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 11,
            "struct": "<BIfh",
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "units": "-",
                    "desc": "Sensor instance number."
                },
                {
                    "name": "timeMs",
                    "ctype": "uint32_t",
                    "units": "ms",
                    "desc": "Timestamp from the sensor."
                },
                {
                    "name": "diffPressurePa",
                    "ctype": "float",
                    "units": "Pa",
                    "desc": "Differential pressure."
                },
                {
                    "name": "temp",
                    "ctype": "int16_t",
                    "units": "0.01 deg C",
                    "desc": "Temperature."
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": false,
        "notes": "Requires `USE_PITOT_MSP`. Calls `mspPitotmeterReceiveNewData()`.",
        "description": "Provides airspeed data from an external MSP-based pitot sensor module."
    },
    "MSP2_SENSOR_HEADTRACKER": {
        "code": 7943,
        "hex": "0x1f07",
        "mspv": 2,
        "direction": 0,
        "request": {
            "size": 0,
            "struct": "<",
            "payload": [
                {
                    "name": "...",
                    "ctype": "Varies",
                    "units": "Head tracker angles (e.g., int16 Roll, Pitch, Yaw in deci-degrees).",
                    "desc": "",
                    "polymorph": true
                }
            ]
        },
        "reply": null,
        "variable_len": null,
        "complex": true,
        "notes": "Requires `USE_HEADTRACKER` and `USE_HEADTRACKER_MSP`. Calls `mspHeadTrackerReceiverNewData()`. Payload structure needs verification from `mspHeadTrackerReceiverNewData` implementation.",
        "description": "Provides head tracker orientation data."
    }
}